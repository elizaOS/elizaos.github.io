{
  "interval": {
    "intervalStart": "2026-01-10T00:00:00.000Z",
    "intervalEnd": "2026-01-11T00:00:00.000Z",
    "intervalType": "day"
  },
  "repository": "elizaos/elizaos.github.io",
  "overview": "From 2026-01-10 to 2026-01-11, elizaos/elizaos.github.io had 0 new PRs (1 merged), 0 new issues, and 2 active contributors.",
  "topIssues": [],
  "topPRs": [
    {
      "id": "PR_kwDONNAI9868OkKl",
      "title": "feat: add MMORPG-style character system to leaderboard API",
      "author": "madjin",
      "number": 193,
      "body": "Enhance leaderboard API with comprehensive character progression system inspired by Ragnarok Online:\r\n\r\n## Phase 1: Enhanced Focus Areas with Rankings\r\n- Transform focus areas from simple tags to rich objects with scores, percentages, and global rankings\r\n- Add FocusAreaDetail interface with tag, score, percentage, rank, and totalInArea\r\n- Calculate global rankings across all contributors per focus area\r\n- Show expertise distribution (e.g., \"#3 in Frontend out of 45 contributors\")\r\n\r\n## Phase 2: Lifetime Summary Endpoint\r\n- Add /api/summaries/contributors/{username}/lifetime.json endpoint for all-time summaries\r\n- Update schema to support \"lifetime\" interval type in user_summaries table\r\n- Create database migration (0014_add_lifetime_interval.sql)\r\n- Add --lifetime CLI flag for opt-in generation\r\n- Implement generateLifetimeSummary pipeline with all-time metrics\r\n\r\n## Phase 3: MMORPG Character Sheet Score Breakdown\r\n- Add ScoreBreakdown interface with tier, percentile, characterClass, and distribution\r\n- Implement 6-tier progression system: beginner → regular → active → veteran → elite → legend\r\n- Calculate percentile rankings showing relative standing among all contributors\r\n- Auto-derive character classes from behavior patterns:\r\n  * Author (PRs ≥50%), Reviewer (Reviews ≥30%), Advocate (Issues ≥25%), Discussant (Comments ≥20%)\r\n  * Hybrid classes: Maintainer (Author + Reviewer), and dynamic combinations\r\n- Show contribution distribution as percentages (Code Author, Problem Finder, Code Reviewer, Discussant)\r\n\r\n## Phase 4: User Profile Endpoint\r\n- Add /api/contributors/{username}/profile.json endpoint\r\n- Query complete character sheet for any user by username\r\n- Include ranks across all time periods (monthly, weekly, lifetime)\r\n- Provide links to all summaries and resources\r\n- Much faster than downloading entire leaderboard\r\n\r\n## Technical Changes\r\n- Update OpenAPI spec with new endpoints and schemas\r\n- Add comprehensive API documentation with example responses\r\n- Update CLI to support lifetime interval generation\r\n- Export individual user profiles during leaderboard generation\r\n- Add .gitignore entry for docs/ folder\n\n<!-- greptile_comment -->\n\n<h2>Greptile Overview</h2>\n\n<h2>Greptile Overview</h2>\n\n### Greptile Summary\n\nThis PR implements a comprehensive MMORPG-inspired character progression system for the leaderboard API, adding lifetime summaries, enhanced focus areas with rankings, score breakdowns with tiers and percentiles, character classes, and individual user profile endpoints.\n\n## Key Changes\n\n**Phase 1 - Lifetime Summaries**: Added database support and pipeline logic for all-time contributor summaries via new `lifetime` interval type. Contributors can opt-in via `--lifetime` CLI flag. Summaries are stored at simplified paths (`/api/summaries/contributors/{username}/lifetime.json`).\n\n**Phase 2 - Enhanced Focus Areas**: Transformed simple tags into rich objects with scores, percentages, and global rankings. Each contributor now shows their rank within each expertise area (e.g., \"#3 in Frontend out of 45 contributors\").\n\n**Phase 3 - MMORPG Character System**: Added comprehensive score breakdowns with:\n- 6-tier progression (beginner → legend)\n- Percentile rankings among all contributors  \n- Auto-derived character classes based on behavior (Author, Reviewer, Maintainer, etc.)\n- Contribution distribution as percentages\n\n**Phase 4 - User Profiles**: New `/api/contributors/{username}/profile.json` endpoint providing complete character sheets with ranks across all time periods, focus areas, achievements, and links to related resources.\n\n## Architecture\n\nThe implementation follows existing pipeline patterns, extending the summarize and export stages. Database schema properly migrated to support lifetime interval. All enrichment data is fetched in batches and mapped efficiently. Profile generation reuses leaderboard data to avoid duplicate queries.\n\n## Issues Found\n\n- **[P0] Critical**: `.gitignore` syntax error prevents `docs/` from being ignored correctly\n- **[P1] Urgent**: Logic bug in contributor type classification makes \"reviewer\" type unreachable\n\n### Confidence Score: 3/5\n\n- Not safe to merge without fixes - contains one critical syntax error and one logic bug affecting core functionality\n- The PR has two blocking issues: (1) a P0 syntax error in .gitignore that will cause the docs/ directory to not be ignored, potentially committing generated files, and (2) a P1 logic error in contributor type classification where the \"reviewer\" type is unreachable due to incorrect condition ordering. While the overall implementation is well-structured and follows existing patterns, these bugs affect core functionality and must be fixed before merge.\n- .gitignore (P0 syntax error) and src/lib/pipelines/export/exportLeaderboardAPI.ts (P1 logic bug in contributor classification)\n\n<h3>Important Files Changed</h3>\n\n\n\nFile Analysis\n\n\n\n| Filename | Score | Overview |\n|----------|-------|----------|\n| .gitignore | 2/5 | Critical syntax error: missing newline causes docs/ directory to not be ignored correctly |\n| cli/analyze-pipeline.ts | 5/5 | Added --lifetime flag support with correct opt-in behavior; lifetime excluded from default intervals |\n| drizzle/0014_add_lifetime_interval.sql | 5/5 | Clean migration adding 'lifetime' to interval_type enum; properly preserves data and recreates indexes |\n| src/lib/data/schema.ts | 5/5 | Added 'lifetime' to interval type enum matching migration; straightforward schema update |\n| src/lib/fsHelpers.ts | 5/5 | Added special handling for lifetime summaries with simplified path structure; proper type casting |\n| src/lib/pipelines/summarize/generateLifetimeSummary.ts | 5/5 | New lifetime summary pipeline with all-time metrics; follows existing patterns correctly |\n| src/lib/pipelines/summarize/aiContributorSummary.ts | 5/5 | Extended to support lifetime interval using month model as fallback; proper handling added |\n| src/lib/pipelines/summarize/context.ts | 5/5 | Updated type definitions to include lifetime in enabled intervals; minimal necessary change |\n| src/lib/pipelines/summarize/index.ts | 5/5 | Integrated lifetime summaries into pipeline sequence; proper destructuring of results |\n| src/lib/pipelines/export/exportLeaderboardAPI.ts | 3/5 | Major feature additions (MMORPG system, profiles, rankings); contains logic bug in contributor type classification |\n| public/openapi.json | 5/5 | Added profile endpoint schema and UserProfileResponse definition; comprehensive OpenAPI spec |\n| src/app/api/page.tsx | 5/5 | Enhanced API documentation with new endpoints and detailed examples; moved to server-side rendering |\n\n</details>\n\n\n\n<h3>Sequence Diagram</h3>\n\n```mermaid\nsequenceDiagram\n    participant CLI as CLI (analyze-pipeline.ts)\n    participant Pipeline as Summarize Pipeline\n    participant Lifetime as generateLifetimeSummary\n    participant AI as aiContributorSummary\n    participant DB as Database (SQLite)\n    participant FS as File System\n    participant Export as exportLeaderboardAPI\n    participant Profile as User Profile Export\n\n    Note over CLI,Profile: Phase 1: Lifetime Summary Generation\n    CLI->>Pipeline: summarize --lifetime flag\n    Pipeline->>Lifetime: generateLifetimeContributorSummaries\n    Lifetime->>DB: getAllActiveContributors()\n    DB-->>Lifetime: List of usernames\n    \n    loop For each contributor\n        Lifetime->>DB: checkExistingLifetimeSummary(username)\n        DB-->>Lifetime: exists or not\n        alt Summary doesn't exist or overwrite=true\n            Lifetime->>DB: getContributorMetrics(2020-01-01 to now)\n            DB-->>Lifetime: All-time metrics\n            Lifetime->>AI: generateAISummaryForContributor(metrics, \"lifetime\")\n            AI->>AI: Use \"month\" model for lifetime\n            AI-->>Lifetime: AI-generated summary\n            Lifetime->>DB: storeLifetimeSummary(username, date, summary)\n            Lifetime->>FS: Write lifetime.md\n            Lifetime->>FS: writeSummaryToAPI (lifetime.json)\n        end\n    end\n\n    Note over CLI,Profile: Phase 2: Leaderboard & Profile Export\n    CLI->>Export: exportAllLeaderboardAPIs()\n    \n    Export->>DB: Query userDailyScores with date ranges\n    Export->>DB: getUserWallets(usernames)\n    Export->>DB: getUserFocusAreas(usernames)\n    Export->>Export: calculateFocusAreaRankings()\n    Export->>DB: getUserAchievements(usernames)\n    Export->>DB: computeContributorProfiles(usernames)\n    \n    Export->>Export: Calculate score breakdowns\n    Export->>Export: deriveCharacterClass()\n    Export->>Export: calculateTier()\n    Export->>Export: calculatePercentile()\n    \n    Export->>FS: Write leaderboard-monthly.json\n    Export->>FS: Write leaderboard-weekly.json\n    Export->>FS: Write leaderboard-lifetime.json\n    \n    Export->>Profile: exportAllUserProfiles()\n    \n    loop For each user\n        Profile->>Export: getLeaderboardData (lifetime)\n        Export-->>Profile: User entry with full character sheet\n        Profile->>Profile: getUserRanks (monthly, weekly, lifetime)\n        Profile->>FS: Write /api/contributors/{username}/profile.json\n    end\n```\n\n<h3>Important Files Changed</h3>\n\n\n\nFile Analysis\n\n\n\n| Filename | Score | Overview |\n|----------|-------|----------|\n| .gitignore | 2/5 | Critical syntax error: missing newline causes docs/ directory to not be ignored correctly |\n| cli/analyze-pipeline.ts | 5/5 | Added --lifetime flag support with correct opt-in behavior; lifetime excluded from default intervals |\n| drizzle/0014_add_lifetime_interval.sql | 5/5 | Clean migration adding 'lifetime' to interval_type enum; properly preserves data and recreates indexes |\n| src/lib/data/schema.ts | 5/5 | Added 'lifetime' to interval type enum matching migration; straightforward schema update |\n| src/lib/fsHelpers.ts | 5/5 | Added special handling for lifetime summaries with simplified path structure; proper type casting |\n| src/lib/pipelines/summarize/generateLifetimeSummary.ts | 5/5 | New lifetime summary pipeline with all-time metrics; follows existing patterns correctly |\n| src/lib/pipelines/summarize/aiContributorSummary.ts | 5/5 | Extended to support lifetime interval using month model as fallback; proper handling added |\n| src/lib/pipelines/summarize/context.ts | 5/5 | Updated type definitions to include lifetime in enabled intervals; minimal necessary change |\n| src/lib/pipelines/summarize/index.ts | 5/5 | Integrated lifetime summaries into pipeline sequence; proper destructuring of results |\n| src/lib/pipelines/export/exportLeaderboardAPI.ts | 3/5 | Major feature additions (MMORPG system, profiles, rankings); contains logic bug in contributor type classification |\n| public/openapi.json | 5/5 | Added profile endpoint schema and UserProfileResponse definition; comprehensive OpenAPI spec |\n| src/app/api/page.tsx | 5/5 | Enhanced API documentation with new endpoints and detailed examples; moved to server-side rendering |\n\n</details>\n\n\n\n<h3>Sequence Diagram</h3>\n\n```mermaid\nsequenceDiagram\n    participant CLI as CLI (analyze-pipeline.ts)\n    participant Pipeline as Summarize Pipeline\n    participant Lifetime as generateLifetimeSummary\n    participant AI as aiContributorSummary\n    participant DB as Database (SQLite)\n    participant FS as File System\n    participant Export as exportLeaderboardAPI\n    participant Profile as User Profile Export\n\n    Note over CLI,Profile: Phase 1: Lifetime Summary Generation\n    CLI->>Pipeline: summarize --lifetime flag\n    Pipeline->>Lifetime: generateLifetimeContributorSummaries\n    Lifetime->>DB: getAllActiveContributors()\n    DB-->>Lifetime: List of usernames\n    \n    loop For each contributor\n        Lifetime->>DB: checkExistingLifetimeSummary(username)\n        DB-->>Lifetime: exists or not\n        alt Summary doesn't exist or overwrite=true\n            Lifetime->>DB: getContributorMetrics(2020-01-01 to now)\n            DB-->>Lifetime: All-time metrics\n            Lifetime->>AI: generateAISummaryForContributor(metrics, \"lifetime\")\n            AI->>AI: Use \"month\" model for lifetime\n            AI-->>Lifetime: AI-generated summary\n            Lifetime->>DB: storeLifetimeSummary(username, date, summary)\n            Lifetime->>FS: Write lifetime.md\n            Lifetime->>FS: writeSummaryToAPI (lifetime.json)\n        end\n    end\n\n    Note over CLI,Profile: Phase 2: Leaderboard & Profile Export\n    CLI->>Export: exportAllLeaderboardAPIs()\n    \n    Export->>DB: Query userDailyScores with date ranges\n    Export->>DB: getUserWallets(usernames)\n    Export->>DB: getUserFocusAreas(usernames)\n    Export->>Export: calculateFocusAreaRankings()\n    Export->>DB: getUserAchievements(usernames)\n    Export->>DB: computeContributorProfiles(usernames)\n    \n    Export->>Export: Calculate score breakdowns\n    Export->>Export: deriveCharacterClass()\n    Export->>Export: calculateTier()\n    Export->>Export: calculatePercentile()\n    \n    Export->>FS: Write leaderboard-monthly.json\n    Export->>FS: Write leaderboard-weekly.json\n    Export->>FS: Write leaderboard-lifetime.json\n    \n    Export->>Profile: exportAllUserProfiles()\n    \n    loop For each user\n        Profile->>Export: getLeaderboardData (lifetime)\n        Export-->>Profile: User entry with full character sheet\n        Profile->>Profile: getUserRanks (monthly, weekly, lifetime)\n        Profile->>FS: Write /api/contributors/{username}/profile.json\n    end\n```\n\n<!-- greptile_other_comments_section -->\n\n<!-- /greptile_comment -->",
      "repository": "elizaos/elizaos.github.io",
      "createdAt": "2026-01-09T00:09:24Z",
      "mergedAt": "2026-01-10T21:52:21Z",
      "additions": 2728,
      "deletions": 189
    }
  ],
  "codeChanges": {
    "additions": 2728,
    "deletions": 189,
    "files": 18,
    "commitCount": 9
  },
  "completedItems": [
    {
      "title": "feat: add MMORPG-style character system to leaderboard API",
      "prNumber": 193,
      "type": "feature",
      "body": "Enhance leaderboard API with comprehensive character progression system inspired by Ragnarok Online:\r\n\r\n## Phase 1: Enhanced Focus Areas with Rankings\r\n- Transform focus areas from simple tags to rich objects with scores, percentages, and g",
      "files": [
        ".gitignore",
        "cli/analyze-pipeline.ts",
        "drizzle/0014_add_lifetime_interval.sql",
        "package.json",
        "public/openapi.json",
        "src/app/api/page.tsx",
        "src/lib/data/schema.ts",
        "src/lib/fsHelpers.ts",
        "src/lib/pipelines/export/exportLeaderboardAPI.ts",
        "src/lib/pipelines/summarize/aiContributorSummary.ts",
        "src/lib/pipelines/summarize/context.ts",
        "src/lib/pipelines/summarize/generateLifetimeSummary.ts",
        "src/lib/pipelines/summarize/index.ts",
        ".github/workflows/generate-summaries.yml",
        "README.md",
        "config/pipeline.config.ts",
        "src/app/api/components/InteractiveEndpoints.tsx",
        "src/lib/pipelines/summarize/queries.ts"
      ]
    }
  ],
  "topContributors": [
    {
      "username": "madjin",
      "avatarUrl": "https://avatars.githubusercontent.com/u/32600939?u=cdcf89f44c7a50906c7a80d889efa85023af2049&v=4",
      "totalScore": 0.2,
      "prScore": 0,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0.2,
      "summary": null
    }
  ],
  "newPRs": 0,
  "mergedPRs": 1,
  "newIssues": 0,
  "closedIssues": 0,
  "activeContributors": 2
}