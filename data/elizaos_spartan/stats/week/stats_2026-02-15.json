{
  "interval": {
    "intervalStart": "2026-02-15T00:00:00.000Z",
    "intervalEnd": "2026-02-22T00:00:00.000Z",
    "intervalType": "week"
  },
  "repository": "elizaos/spartan",
  "overview": "From 2026-02-15 to 2026-02-22, elizaos/spartan had 1 new PRs (0 merged), 0 new issues, and 2 active contributors.",
  "topIssues": [],
  "topPRs": [
    {
      "id": "PR_kwDOOtpAWM7Ewv5u",
      "title": "staging fixes, core-compat layer, and service/build fixes",
      "author": "odilitime",
      "number": 24,
      "body": "Merge resolution:\r\n- Resolved conflicts in package.json, src/index.ts, int_accounts, srv_dataprovider, srv_strategy, multiwallet (swap/swap_all/xfer, index), strategy_llm.\r\n\r\nCore compatibility (core-compat.ts):\r\n- getInitPromise(runtime), getServiceLoadPromise(runtime, name) for older/newer @elizaos/core.\r\n- hasGenerateObject(runtime), generateObject(runtime, ...args) for runtimes with/without generateObject.\r\n- setCache(runtime, key, value, ttl?) for optional TTL; logCompatError/logCompatDebug for pino vs legacy loggers.\r\n- Re-export HandlerOptions from types.ts for single import.\r\n\r\nService names:\r\n- Use INTEL_DATAPROVIDER and INTEL_CHAIN everywhere (replaced TRADER_DATAPROVIDER/TRADER_CHAIN) to match degenIntel plugin registration.\r\n- getServiceLoadPromise() call sites use string names matching plugin serviceType (discord, chain_solana, SPARTAN_NEWS_SERVICE, etc.).\r\n\r\nBuild and types:\r\n- HandlerOptions in src/types.ts; actions use it instead of @elizaos/core where core lacks it.\r\n- Logger calls use pino-style logger.error({ err }, 'msg') where required.\r\n- tsk_discord_post: generateObject via core-compat; PostIdeaContent/PostContent types; discord service typed inline.\r\n\r\nNew/added:\r\n- src/core-compat.ts, src/types.ts.\r\n- act_wallet_assess_positions.ts (DATA_PROVIDER_SERVICE = INTEL_DATAPROVIDER).\n\n<!-- CURSOR_SUMMARY -->\n---\n\n> [!NOTE]\n> **Medium Risk**\n> Touches core initialization/service readiness paths and modifies on-chain wallet operations (swap/sweep/transfer) plus position auto-closing logic, which could affect trading behavior and user funds if regressions occur.\n> \n> **Overview**\n> Introduces `src/core-compat.ts` (+ `src/types.ts`) to smooth over older/newer `@elizaos/core` differences (init/service readiness, optional `generateObject`, cache TTL support, and pino-vs-legacy logging), then updates init/services/actions to use these helpers and avoid direct `initPromise`/`getServiceLoadPromise` assumptions.\n> \n> Standardizes service wiring around `INTEL_DATAPROVIDER`/`INTEL_CHAIN` and hardens degenIntel data sync: `checkPositions` now supports per-wallet checks, validates that wallets still hold tokens (closing stale/zero-amount positions), skips watch-only wallets for closes, and triggers re-checks after closes.\n> \n> Improves multiwallet and trading wallet-write flows by syncing positions after swaps/transfers/sweeps/open-position actions (`notifyWalletWrite`), adds a new `MULTIWALLET_ASSESS_POSITIONS` action for manual reconciliation, refactors `swap_all` to use Solana service token discovery and batch/parallelized Jupiter swaps, and fixes account component persistence/upsert edge cases (mock component shapes, safer `entityId` resolution).\n> \n> <sup>Written by [Cursor Bugbot](https://cursor.com/dashboard?tab=bugbot) for commit c24e30cc9faae0ed50a7b70862897f66381747c8. This will update automatically on new commits. Configure [here](https://cursor.com/dashboard?tab=bugbot).</sup>\n<!-- /CURSOR_SUMMARY -->\n\n<!-- greptile_comment -->\n\n<h3>Greptile Summary</h3>\n\nThis PR introduces a compatibility layer (`core-compat.ts`) to support multiple versions of `@elizaos/core`, standardizes service names from `TRADER_*` to `INTEL_*` across the codebase, resolves merge conflicts in wallet actions, and adds position sync improvements.\n\n**Key changes:**\n- New `core-compat.ts` provides graceful fallbacks for `initPromise`, `getServiceLoadPromise`, `generateObject`, and cache operations with optional TTL\n- Service name consistency: `INTEL_DATAPROVIDER` and `INTEL_CHAIN` now used everywhere to match plugin registration\n- Merge conflict resolution in `act_wallet_swap`, `act_wallet_swap_all`, `act_wallet_xfer`, and `strategy_llm` with improved error handling\n- New `act_wallet_assess_positions` action allows manual position sync\n- `notifyWalletWrite` integration ensures position data stays synchronized after wallet modifications\n- Pino-style logging (`logger.error({ err }, 'msg')`) adopted throughout\n- `strategy_llm.ts` enhanced with portfolio tracking and SOL balance filtering to prevent counting immobile positions\n\n<h3>Confidence Score: 4/5</h3>\n\n- This PR is safe to merge with careful testing of the compatibility layer across different core versions\n- The compatibility layer is well-designed with proper fallbacks, service name standardization is systematic, and merge resolutions appear sound. However, the changes are extensive (53 files, 1395 additions, 813 deletions) and touch critical trading/wallet logic. The compatibility layer needs runtime validation across both old and new core versions to ensure the fallbacks work correctly.\n- Pay close attention to `src/core-compat.ts`, `src/plugins/degenIntel/services/srv_dataprovider.ts`, `src/plugins/trading/strategies/strategy_llm.ts`, and wallet action files during testing to ensure the compatibility layer works across core versions and position sync logic functions correctly\n\n<h3>Important Files Changed</h3>\n\n\n\n\n| Filename | Overview |\n|----------|----------|\n| src/core-compat.ts | New compatibility layer for handling different `@elizaos/core` versions with graceful fallbacks |\n| src/types.ts | New file defining `HandlerOptions` type for cross-version compatibility |\n| src/init.ts | Updated to use core-compat helpers and pino-style logging |\n| src/plugins/degenIntel/services/srv_dataprovider.ts | Major refactor: uses core-compat, adds position validation logic, improves wallet filtering |\n| src/plugins/multiwallet/actions/act_wallet_swap.ts | Merge resolution: improved error handling, pino logging, notifyWalletWrite integration |\n| src/plugins/multiwallet/actions/act_wallet_swap_all.ts | Merge resolution: refactored swap logic, batch sending, notifyWalletWrite integration |\n| src/plugins/multiwallet/actions/act_wallet_xfer.ts | Merge resolution: callback-based error handling, notifyWalletWrite integration, cleaner error messages |\n| src/plugins/multiwallet/actions/act_wallet_assess_positions.ts | New action to manually trigger position sync/assessment per wallet |\n| src/plugins/trading/strategies/strategy_llm.ts | Major refactor: portfolio tracking, position filtering by SOL balance, notifyWalletWrite integration |\n| src/tasks/tsk_discord_post.ts | Updated to use `generateObject` from core-compat with proper typing |\n\n</details>\n\n\n\n<h3>Flowchart</h3>\n\n```mermaid\n%%{init: {'theme': 'neutral'}}%%\nflowchart TD\n    A[PR: Staging Fixes & Core-Compat] --> B[Core Compatibility Layer]\n    A --> C[Service Name Standardization]\n    A --> D[Merge Conflict Resolutions]\n    A --> E[Build & Type Fixes]\n    \n    B --> B1[core-compat.ts]\n    B1 --> B2[getInitPromise]\n    B1 --> B3[getServiceLoadPromise]\n    B1 --> B4[generateObject with hasGenerateObject]\n    B1 --> B5[setCache with optional TTL]\n    B1 --> B6[logCompatError/logCompatDebug]\n    \n    C --> C1[TRADER_DATAPROVIDER → INTEL_DATAPROVIDER]\n    C --> C2[TRADER_CHAIN → INTEL_CHAIN]\n    C --> C3[Service registration alignment]\n    \n    D --> D1[act_wallet_swap]\n    D --> D2[act_wallet_swap_all]\n    D --> D3[act_wallet_xfer]\n    D --> D4[strategy_llm]\n    D1 --> D5[notifyWalletWrite integration]\n    D2 --> D5\n    D3 --> D5\n    D4 --> D5\n    \n    E --> E1[HandlerOptions in types.ts]\n    E --> E2[Pino-style logging throughout]\n    E --> E3[TypeScript type fixes]\n    E --> E4[tsk_discord_post generateObject types]\n    \n    D5 --> F[Position Sync Enhancement]\n    F --> F1[ensurePositionsMatchWalletHoldings]\n    F --> F2[act_wallet_assess_positions action]\n    F --> F3[Prevent stale position data]\n```\n\n<sub>Last reviewed commit: c24e30c</sub>\n\n<!-- greptile_other_comments_section -->\n\n<!-- /greptile_comment -->\n\n<!-- This is an auto-generated comment: release notes by coderabbit.ai -->\n\n## Summary by CodeRabbit\n\n* **New Features**\n  * Added wallet position assessment action for tracking and updating positions across registered wallets.\n  * Enhanced swap and transfer operations with improved balance calculations, ATA management, and clearer user-facing error messages.\n  * Integrated position synchronization notifications after wallet transactions.\n\n* **Improvements**\n  * Refined portfolio context in trading strategies with SOL balance filtering and price divergence handling.\n  * Added wallet reserve logic to protect liquidity for position exits.\n  * Improved error handling with structured logging across all services.\n  * Enhanced service integration with version compatibility support.\n\n<!-- end of auto-generated comment: release notes by coderabbit.ai -->",
      "repository": "elizaos/spartan",
      "createdAt": "2026-02-19T02:16:14Z",
      "mergedAt": null,
      "additions": 1395,
      "deletions": 813
    }
  ],
  "codeChanges": {
    "additions": 0,
    "deletions": 0,
    "files": 0,
    "commitCount": 1
  },
  "completedItems": [],
  "topContributors": [
    {
      "username": "odilitime",
      "avatarUrl": "https://avatars.githubusercontent.com/u/16395496?u=c9bac48e632aae594a0d85aaf9e9c9c69b674d8b&v=4",
      "totalScore": 81.47654779315219,
      "prScore": 81.47654779315219,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "standujar",
      "avatarUrl": "https://avatars.githubusercontent.com/u/16385918?u=718bdcd1585be8447bdfffb8c11ce249baa7532d&v=4",
      "totalScore": 80.71342900469084,
      "prScore": 80.51342900469083,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0.2,
      "summary": null
    },
    {
      "username": "kaiclawd",
      "avatarUrl": "https://avatars.githubusercontent.com/u/257877415?u=2c8763bb75f5fd07b37a1939903a8b557dd7a46f&v=4",
      "totalScore": 59.475878208526346,
      "prScore": 59.475878208526346,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "greptile-apps",
      "avatarUrl": "https://avatars.githubusercontent.com/in/867647?v=4",
      "totalScore": 59.3,
      "prScore": 0,
      "issueScore": 0,
      "reviewScore": 58.5,
      "commentScore": 0.8,
      "summary": null
    },
    {
      "username": "buzzbysolcex",
      "avatarUrl": "https://avatars.githubusercontent.com/u/259807261?v=4",
      "totalScore": 51.22425149251019,
      "prScore": 50.78625149251019,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0.43799999999999994,
      "summary": null
    },
    {
      "username": "yaooooooooooooooo",
      "avatarUrl": "https://avatars.githubusercontent.com/u/62118705?v=4",
      "totalScore": 43.5437738965761,
      "prScore": 43.5437738965761,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "decentralize-dfw",
      "avatarUrl": "https://avatars.githubusercontent.com/u/115695363?u=858e729376e39f7d94ec1907637812ec3b9ca575&v=4",
      "totalScore": 43.5437738965761,
      "prScore": 43.5437738965761,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "Fankouzu",
      "avatarUrl": "https://avatars.githubusercontent.com/u/8297296?u=bfe40f2d2a88d01f2092e44db726b11c0608b657&v=4",
      "totalScore": 34.0207738965761,
      "prScore": 34.0207738965761,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "kamiyo-ai",
      "avatarUrl": "https://avatars.githubusercontent.com/u/197570892?u=0d1ee66bdde083d3cfa339f7b2dfc1c2e8fee2fd&v=4",
      "totalScore": 21.18304826901074,
      "prScore": 20.64304826901074,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0.54,
      "summary": null
    },
    {
      "username": "borisudovicic",
      "avatarUrl": "https://avatars.githubusercontent.com/u/31806472?u=8935f4d43fd7e4eb9bf5ff92d54d4d2f8ac8a786&v=4",
      "totalScore": 10,
      "prScore": 0,
      "issueScore": 10,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "samarth30",
      "avatarUrl": "https://avatars.githubusercontent.com/u/48334430?u=1fc119a6c2deb8cf60448b4c8961cb21dc69baeb&v=4",
      "totalScore": 4,
      "prScore": 0,
      "issueScore": 4,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "rookdaemon",
      "avatarUrl": "https://avatars.githubusercontent.com/u/258400181?u=f806b5798e056f9384e53da900fdcd3d7bc24c14&v=4",
      "totalScore": 2,
      "prScore": 0,
      "issueScore": 2,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "mbatini",
      "avatarUrl": "https://avatars.githubusercontent.com/u/34915878?v=4",
      "totalScore": 2,
      "prScore": 0,
      "issueScore": 2,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "JKHeadley",
      "avatarUrl": "https://avatars.githubusercontent.com/u/12631935?u=e1a3e2005973fbf5526f5dccd04b6310e2476946&v=4",
      "totalScore": 2,
      "prScore": 0,
      "issueScore": 2,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    }
  ],
  "newPRs": 1,
  "mergedPRs": 0,
  "newIssues": 0,
  "closedIssues": 0,
  "activeContributors": 2
}