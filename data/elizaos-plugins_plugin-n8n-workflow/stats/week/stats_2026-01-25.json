{
  "interval": {
    "intervalStart": "2026-01-25T00:00:00.000Z",
    "intervalEnd": "2026-02-01T00:00:00.000Z",
    "intervalType": "week"
  },
  "repository": "elizaos-plugins/plugin-n8n-workflow",
  "overview": "From 2026-01-25 to 2026-02-01, elizaos-plugins/plugin-n8n-workflow had 8 new PRs (7 merged), 0 new issues, and 3 active contributors.",
  "topIssues": [],
  "topPRs": [
    {
      "id": "PR_kwDORDL9tM7AbzTW",
      "title": "fix: workflow actions reliability + credential injection + cloud integration",
      "author": "standujar",
      "number": 8,
      "body": "## Summary\n- **Fix credential injection**: fuzzy Api suffix matching in credentialResolver + correct LLM prompt examples (`gmailOAuth2Api` → `gmailOAuth2`)\n- **Fix intent classification**: language-agnostic structural rules instead of keyword-based matching — short confirmations like \"creer le\" no longer misclassify as \"new\"\n- **Fix DELETE/ACTIVATE/DEACTIVATE**: fetch workflows directly from service instead of relying on `state.data.workflows` (provider data not reliably merged into state by ElizaOS)\n- **Fix settings access**: use `runtime.character.settings.workflows` instead of `runtime.getSetting()` which only returns primitives\n- **Auto-activate workflows** after deployment via `POST /workflows/{id}/activate`\n- **Remove LIST_N8N_WORKFLOWS action**: `activeWorkflowsProvider` already injects workflow list into LLM context (bootstrap plugin pattern)\n- **Add safety net** in CREATE \"new\" path: restore draft if generation fails\n- **Rename settings key** from `n8n` to `workflows`\n- **Update node catalog** via new `crawl-nodes` script\n- **Cloud bridge credential_data flow**: plugin creates n8n credentials from OAuth tokens/API keys provided by cloud bridge, caches mapping in credential store\n- **Integration availability check** (spec 09): three-tier pre-generation check — immediate block when no service nodes remain, LLM feasibility assessment when partial coverage exists, proceed when all integrations are available. Prevents generating workflows the platform can't run\n- **Conversation context preservation**: `buildConversationContext` passes last 5 messages to generation, preventing context loss after errors or multi-turn interactions\n- **Constrain generation to catalog**: LLM prompt now enforces strict usage of provided node types only\n\n## Test plan\n- [x] 159 tests pass (unit, integration, E2E)\n- [ ] Live test: create workflow → verify credentials injected + auto-activated\n- [ ] Live test: delete workflow by ID or name\n- [ ] Live test: confirm short messages (\"go\", \"oui\") classify as confirm, not new\n- [ ] Live test: create workflow with unsupported integrations → UNSUPPORTED_INTEGRATION response\n- [ ] Live test: create workflow with partially supported integrations → feasibility check proceeds or blocks\n- [ ] Live test: confirm draft with missing credentials → AUTH_REQUIRED with auth URLs\n\n<!-- This is an auto-generated comment: release notes by coderabbit.ai -->\n\n## Summary by CodeRabbit\n\n## Release Notes\n\n* **New Features**\n  * Workflow modification: modify existing drafts without full regeneration\n  * Execution history: view workflow run history and status details\n  * Enhanced credential handling: automatic detection and authentication flow for missing credentials\n  * Improved workflow matching: identify workflows by name or semantic description\n\n* **Bug Fixes**\n  * Draft lifecycle management and recovery after generation failures\n  * Credential resolution priority and caching\n  * Workflow matching accuracy\n\n* **Documentation**\n  * Comprehensive architecture and specification guide\n  * Updated prompts for better intent classification supporting multiple languages\n\n<!-- end of auto-generated comment: release notes by coderabbit.ai -->",
      "repository": "elizaos-plugins/plugin-n8n-workflow",
      "createdAt": "2026-01-30T16:35:32Z",
      "mergedAt": "2026-02-02T15:48:05Z",
      "additions": 4829,
      "deletions": 429910
    },
    {
      "id": "PR_kwDORDL9tM7AQR-7",
      "title": "feat: draft/preview/confirm flow + credential store + deslop",
      "author": "standujar",
      "number": 5,
      "body": "## Summary\n\n- **Draft/preview/confirm flow** for `CREATE_N8N_WORKFLOW`: replaces one-shot deploy with a cached state machine (generate → preview → confirm/modify/cancel → deploy)\n- **LLM-driven intent classification** via `classifyDraftIntent()` — no static keyword matching for confirm/cancel/modify detection\n- **LLM-driven clarification** when the user request is vague (`_meta.requiresClarification`)\n- **N8nCredentialStore** service: DB-backed credential mapping per user, with interface-based design for cloud override\n- **Service split**: `generateWorkflowDraft()` + `deployWorkflow()` replace the old one-shot `createWorkflowFromPrompt()`\n- **Deslop pass**: removed all dead code (6 unused types, `executeWorkflow` action, `validateWorkflowOrThrow`, redundant default exports), replaced `as any` with typed casts, cleaned up comments\n\n## Changes\n\n### New files\n- `src/prompts/draftIntent.ts` — LLM prompt for intent classification\n- `src/schemas/draftIntent.ts` — JSON schema for intent output\n- `src/services/n8n-credential-store.ts` — DB-backed credential store\n- `src/db/schema.ts` — Drizzle schema for credential mappings\n\n### Modified\n- `src/actions/createWorkflow.ts` — full rewrite with draft/preview/confirm state machine\n- `src/services/n8n-workflow-service.ts` — split into `generateWorkflowDraft()` + `deployWorkflow()`\n- `src/utils/generation.ts` — added `classifyDraftIntent()`, simplified casts\n- `src/types/index.ts` — added `WorkflowDraft`, `DraftIntentResult`; removed 6 dead types\n- `src/prompts/workflowGeneration.ts` — strengthened clarification instructions\n\n### Removed\n- `src/actions/executeWorkflow.ts` — dead code\n- `validateWorkflowOrThrow()` — unused in production\n- `createWorkflowFromPrompt()` — replaced by split methods\n- All redundant `export default` statements\n\n## Test plan\n\n- [x] 153 tests passing (unit + integration + e2e)\n- [x] Build clean (`tsc` — zero errors)\n- [x] Zero `as any` in production code\n- [ ] Manual test: generate workflow draft → preview → confirm deploy\n- [ ] Manual test: generate draft → modify → re-preview → confirm\n- [ ] Manual test: generate draft → cancel\n\n<!-- This is an auto-generated comment: release notes by coderabbit.ai -->\n## Summary by CodeRabbit\n\n* **New Features**\n  * Draft-based workflow creation with preview, clarifications, regenerate/modify flows, confirm-to-deploy path, intent classification for drafts, and TTL-based draft caching; richer deploy responses including missing-credential details.\n\n* **Bug Fixes**\n  * Improved payload sanitization and validation; clearer deployment/error messaging.\n\n* **Removed**\n  * Standalone workflow execution action removed (execution now via confirm/deploy flow).\n\n* **Refactor**\n  * Streamlined generation → preview → deploy lifecycle and simplified action/export surface.\n\n* **Tests**\n  * Expanded integration/unit tests and updated test helpers/mocks.\n\n<sub>✏️ Tip: You can customize this high-level summary in your review settings.</sub>\n<!-- end of auto-generated comment: release notes by coderabbit.ai -->",
      "repository": "elizaos-plugins/plugin-n8n-workflow",
      "createdAt": "2026-01-29T23:17:29Z",
      "mergedAt": "2026-01-30T11:06:12Z",
      "additions": 1282,
      "deletions": 872
    },
    {
      "id": "PR_kwDORDL9tM7AOKy1",
      "title": "feat: credential store service + dead code cleanup",
      "author": "standujar",
      "number": 4,
      "body": "## Summary\n- **N8nCredentialStore service**: DB-backed (Drizzle pgSchema) credential mapping store, replacing the in-memory `credentialIdCache` Map. Designed so cloud can override via `runtime.getService('n8n_credential_store')`.\n- **Remove listCredentials**: n8n public API returns 405 on `GET /credentials` — action, service method, API method, and all test references removed.\n- **Clean OAuthService type**: Removed `getN8nCredId`/`setN8nCredId` that coupled to cloud implementation.\n- **Fix code quality**: Dead code paths in `api.ts` and `workflow.ts`, dead test imports, weak assertions strengthened.\n- **Bump to 1.0.3**\n\n## New files\n- `src/db/schema.ts` — `n8n_workflow.credential_mappings` table (Drizzle pgSchema)\n- `src/db/index.ts` — schema re-exports\n- `src/services/n8n-credential-store.ts` — default DB-backed implementation\n\n## Cloud override pattern\nThe plugin registers `N8nCredentialStore` with `serviceType = 'n8n_credential_store'`. On the cloud, a separate plugin registers its own implementation under the same type. `runtime.getService()` returns the first registered, so the cloud implementation wins.\n\n## Test plan\n- [x] 151/151 tests pass\n- [x] `tsc` build clean\n- [x] `eslint` lint clean\n- [ ] Verify DB migration runs on local PGlite\n- [ ] Verify cloud override with elizacloud plugin\n\n<!-- This is an auto-generated comment: release notes by coderabbit.ai -->\n## Summary by CodeRabbit\n\n* **New Features**\n  * Added database-backed credential storage with persistent credential mappings.\n\n* **Bug Fixes**\n  * Fixed workflow generation to automatically assign default names when workflows lack names.\n\n* **Removed**\n  * Removed the List Credentials action.\n\n* **Chores**\n  * Updated dependencies: replaced internal REST client with Drizzle ORM for database operations.\n  * Bumped package version to 1.0.3.\n\n<sub>✏️ Tip: You can customize this high-level summary in your review settings.</sub>\n<!-- end of auto-generated comment: release notes by coderabbit.ai -->",
      "repository": "elizaos-plugins/plugin-n8n-workflow",
      "createdAt": "2026-01-29T20:09:05Z",
      "mergedAt": "2026-01-29T20:11:34Z",
      "additions": 680,
      "deletions": 1133
    },
    {
      "id": "PR_kwDORDL9tM7AX0h3",
      "title": "fix: draft provider",
      "author": "standujar",
      "number": 7,
      "body": "\n\n<!-- This is an auto-generated comment: release notes by coderabbit.ai -->\n\n## Summary by CodeRabbit\n\n* **New Features**\n  * Added support for pending workflow drafts awaiting user confirmation or modification.\n  * Enhanced workflow creation with additional example scenarios for confirmations and cancellations.\n\n* **Tests**\n  * Added test coverage for pending draft functionality, including cache handling and expiry validation.\n\n* **Chores**\n  * Bumped version to 1.0.6.\n\n<sub>✏️ Tip: You can customize this high-level summary in your review settings.</sub>\n\n<!-- end of auto-generated comment: release notes by coderabbit.ai -->",
      "repository": "elizaos-plugins/plugin-n8n-workflow",
      "createdAt": "2026-01-30T11:33:12Z",
      "mergedAt": "2026-01-30T11:33:18Z",
      "additions": 294,
      "deletions": 78
    },
    {
      "id": "PR_kwDORDL9tM7AK2TE",
      "title": "feat: declare env vars for ElizaOS env filtering",
      "author": "standujar",
      "number": 3,
      "body": "## Summary\n- Add `agentConfig.pluginParameters` to package.json declaring `N8N_API_KEY` and `N8N_HOST`\n- Required since elizaos/eliza@b9fd1482 which filters `process.env` — only declared plugin parameters are passed through to `runtime.getSetting()`\n- Bump version to 1.0.2",
      "repository": "elizaos-plugins/plugin-n8n-workflow",
      "createdAt": "2026-01-29T15:56:30Z",
      "mergedAt": "2026-01-29T15:56:46Z",
      "additions": 14,
      "deletions": 1
    }
  ],
  "codeChanges": {
    "additions": 2283,
    "deletions": 2100,
    "files": 44,
    "commitCount": 42
  },
  "completedItems": [
    {
      "title": "fix: draft provider",
      "prNumber": 7,
      "type": "bugfix",
      "body": "\n\n<!-- This is an auto-generated comment: release notes by coderabbit.ai -->\n\n## Summary by CodeRabbit\n\n* **New Features**\n  * Added support for pending workflow drafts awaiting user confirmation or modification.\n  * Enhanced workflow creat",
      "files": [
        "__tests__/integration/providers/providers.test.ts",
        "package.json",
        "src/actions/createWorkflow.ts",
        "src/index.ts",
        "src/providers/index.ts",
        "src/providers/pendingDraft.ts"
      ]
    },
    {
      "title": "Fix: callbacks",
      "prNumber": 6,
      "type": "bugfix",
      "body": "",
      "files": [
        "package.json",
        "src/actions/createWorkflow.ts"
      ]
    },
    {
      "title": "feat: draft/preview/confirm flow + credential store + deslop",
      "prNumber": 5,
      "type": "feature",
      "body": "## Summary\n\n- **Draft/preview/confirm flow** for `CREATE_N8N_WORKFLOW`: replaces one-shot deploy with a cached state machine (generate → preview → confirm/modify/cancel → deploy)\n- **LLM-driven intent classification** via `classifyDraftInte",
      "files": [
        "__tests__/e2e/lifecycle.test.ts",
        "__tests__/helpers/mockRuntime.ts",
        "__tests__/helpers/mockService.ts",
        "__tests__/integration/actions/createWorkflow.test.ts",
        "__tests__/integration/actions/queryActions.test.ts",
        "__tests__/unit/api.test.ts",
        "__tests__/unit/generation.test.ts",
        "__tests__/unit/workflow.test.ts",
        "package.json",
        "src/actions/activateWorkflow.ts",
        "src/actions/createWorkflow.ts",
        "src/actions/deactivateWorkflow.ts",
        "src/actions/deleteWorkflow.ts",
        "src/actions/executeWorkflow.ts",
        "src/actions/getExecutions.ts",
        "src/actions/index.ts",
        "src/actions/listWorkflows.ts",
        "src/index.ts",
        "src/prompts/draftIntent.ts",
        "src/prompts/index.ts",
        "src/prompts/keywordExtraction.ts",
        "src/prompts/workflowGeneration.ts",
        "src/providers/activeWorkflows.ts",
        "src/providers/workflowStatus.ts",
        "src/schemas/draftIntent.ts",
        "src/schemas/index.ts",
        "src/services/n8n-credential-store.ts",
        "src/services/n8n-workflow-service.ts",
        "src/types/index.ts",
        "src/utils/api.ts",
        "src/utils/generation.ts",
        "src/utils/index.ts",
        "src/utils/workflow.ts"
      ]
    },
    {
      "title": "feat: credential store service + dead code cleanup",
      "prNumber": 4,
      "type": "feature",
      "body": "## Summary\n- **N8nCredentialStore service**: DB-backed (Drizzle pgSchema) credential mapping store, replacing the in-memory `credentialIdCache` Map. Designed so cloud can override via `runtime.getService('n8n_credential_store')`.\n- **Remove",
      "files": [
        "__tests__/helpers/mockService.ts",
        "__tests__/integration/actions/queryActions.test.ts",
        "__tests__/unit/api.test.ts",
        "__tests__/unit/catalog.test.ts",
        "__tests__/unit/credentialResolver.test.ts",
        "__tests__/unit/generation.test.ts",
        "bun.lock",
        "package.json",
        "src/actions/index.ts",
        "src/actions/listCredentials.ts",
        "src/db/index.ts",
        "src/db/schema.ts",
        "src/index.ts",
        "src/services/index.ts",
        "src/services/n8n-credential-store.ts",
        "src/services/n8n-workflow-service.ts",
        "src/types/index.ts",
        "src/utils/api.ts",
        "src/utils/credentialResolver.ts",
        "src/utils/generation.ts",
        "src/utils/workflow.ts"
      ]
    },
    {
      "title": "feat: declare env vars for ElizaOS env filtering",
      "prNumber": 3,
      "type": "feature",
      "body": "## Summary\n- Add `agentConfig.pluginParameters` to package.json declaring `N8N_API_KEY` and `N8N_HOST`\n- Required since elizaos/eliza@b9fd1482 which filters `process.env` — only declared plugin parameters are passed through to `runtime.getS",
      "files": [
        "package.json"
      ]
    },
    {
      "title": "fix: publish as public + bump to 1.0.1",
      "prNumber": 2,
      "type": "bugfix",
      "body": "## Summary\n- Add `publishConfig.access: public` to fix 402 Payment Required on npm publish\n- Bump version to 1.0.1\n\n## Context\nThe 1.0.0 release failed because scoped packages (`@elizaos/...`) default to private on npm.\n\n## Test plan\n- [x] ",
      "files": [
        "bun.lock",
        "package.json"
      ]
    },
    {
      "title": "chore: release v1.0.0",
      "prNumber": 1,
      "type": "other",
      "body": "## Summary\n- Bump version from 0.1.0 to 1.0.0\n\n## Test plan\n- [x] CI passes (lint, unit, integration, e2e, build)\n- [x] Claude review passes\n- [x] Merge triggers npm publish via `npm-deploy.yml`\n\n<!-- This is an auto-generated comment: rele",
      "files": [
        "package.json"
      ]
    }
  ],
  "topContributors": [
    {
      "username": "standujar",
      "avatarUrl": "https://avatars.githubusercontent.com/u/16385918?u=718bdcd1585be8447bdfffb8c11ce249baa7532d&v=4",
      "totalScore": 357.5753772734992,
      "prScore": 356.79737727349925,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0.7779999999999999,
      "summary": null
    },
    {
      "username": "0xbbjoker",
      "avatarUrl": "https://avatars.githubusercontent.com/u/54844437?u=90fe1762420de6ad493a1c1582f1f70c0d87d8e2&v=4",
      "totalScore": 145.67904680509304,
      "prScore": 109.47904680509303,
      "issueScore": 0,
      "reviewScore": 36,
      "commentScore": 0.2,
      "summary": null
    },
    {
      "username": "borisudovicic",
      "avatarUrl": "https://avatars.githubusercontent.com/u/31806472?u=8935f4d43fd7e4eb9bf5ff92d54d4d2f8ac8a786&v=4",
      "totalScore": 112,
      "prScore": 0,
      "issueScore": 112,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "greptile-apps",
      "avatarUrl": "https://avatars.githubusercontent.com/in/867647?v=4",
      "totalScore": 58.7,
      "prScore": 0,
      "issueScore": 0,
      "reviewScore": 58.5,
      "commentScore": 0.2,
      "summary": null
    },
    {
      "username": "madjin",
      "avatarUrl": "https://avatars.githubusercontent.com/u/32600939?u=cdcf89f44c7a50906c7a80d889efa85023af2049&v=4",
      "totalScore": 56.133019117260886,
      "prScore": 49.79301911726088,
      "issueScore": 6,
      "reviewScore": 0,
      "commentScore": 0.33999999999999997,
      "summary": null
    },
    {
      "username": "vbkotecha",
      "avatarUrl": "https://avatars.githubusercontent.com/u/86377299?u=32a79d9adc10f2738dca41f4690de9ec944d8025&v=4",
      "totalScore": 43.5437738965761,
      "prScore": 43.5437738965761,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "augchan42",
      "avatarUrl": "https://avatars.githubusercontent.com/u/20424105?u=d1a74732b07564927928798346f07cd50935c529&v=4",
      "totalScore": 22.553332238032112,
      "prScore": 22.553332238032112,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "BaseGold",
      "avatarUrl": "https://avatars.githubusercontent.com/u/240206422?u=6eb4bd10d4ab502d36d022d95331370c5b76e055&v=4",
      "totalScore": 16.833213344056215,
      "prScore": 16.833213344056215,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "j4lambert",
      "avatarUrl": "https://avatars.githubusercontent.com/u/36552964?v=4",
      "totalScore": 15.545521226679158,
      "prScore": 15.545521226679158,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "timolein74",
      "avatarUrl": "https://avatars.githubusercontent.com/u/225394307?v=4",
      "totalScore": 14.346573590279972,
      "prScore": 14.346573590279972,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "CIII-glitch",
      "avatarUrl": "https://avatars.githubusercontent.com/u/256561388?v=4",
      "totalScore": 14.346573590279972,
      "prScore": 14.346573590279972,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "Abdulkader-Safi",
      "avatarUrl": "https://avatars.githubusercontent.com/u/53955839?u=840e43b472d25cb1a82c19b77124def52dfaa69c&v=4",
      "totalScore": 4.54,
      "prScore": 0,
      "issueScore": 4.2,
      "reviewScore": 0,
      "commentScore": 0.33999999999999997,
      "summary": null
    }
  ],
  "newPRs": 8,
  "mergedPRs": 7,
  "newIssues": 0,
  "closedIssues": 0,
  "activeContributors": 3
}