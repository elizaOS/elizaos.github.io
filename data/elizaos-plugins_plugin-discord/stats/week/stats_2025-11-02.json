{
  "interval": {
    "intervalStart": "2025-11-02T00:00:00.000Z",
    "intervalEnd": "2025-11-09T00:00:00.000Z",
    "intervalType": "week"
  },
  "repository": "elizaos-plugins/plugin-discord",
  "overview": "From 2025-11-02 to 2025-11-09, elizaos-plugins/plugin-discord had 1 new PRs (0 merged), 0 new issues, and 3 active contributors.",
  "topIssues": [],
  "topPRs": [
    {
      "id": "PR_kwDOOtXZkc6xNPtm",
      "title": "feat: integrate unified messaging API",
      "author": "standujar",
      "number": 24,
      "body": "<!-- Use this template by filling in information and copying and pasting relevant items out of the HTML comments. -->\r\n\r\n# Relates to\r\n\r\nRelates to elizaOS/eliza#6095 and https://github.com/elizaOS/eliza/pull/6111 - Unified messaging API\r\n\r\nWe have to wait https://github.com/elizaOS/eliza/pull/6111 to be merged and released 1.6.4 a least before merging this one.\r\n\r\nDepends on: https://github.com/elizaOS/eliza/pull/6111\r\n\r\n# Risks\r\n\r\n**Low risk**\r\n\r\nThis change is non-breaking and fully backward compatible:\r\n- Uses unified API when available via `runtime.elizaOS.sendMessage()`\r\n- Falls back to `messageService.handleMessage()` for standalone mode\r\n- Includes logging to track which path is used\r\n- Well-tested with live Discord bot\r\n\r\nPotential areas affected:\r\n- Message processing flow (now uses unified API)\r\n- Discord message handling (improved error handling and cleanup)\r\n- Service initialization (cleaner code, removed unnecessary wrapper)\r\n\r\n# Background\r\n\r\n## What does this PR do?\r\n\r\nThis PR integrates the new unified messaging API (`elizaOS.sendMessage()`) from elizaOS/eliza#6095, allowing the Discord plugin to use the standardized messaging entry point.\r\n\r\n**Key changes:**\r\n- **messages.ts**: Refactored `handleMessage()` to use `elizaOS.sendMessage()` when available\r\n- Added fallback to `messageService.handleMessage()` for standalone mode\r\n- Added debug logging to track which messaging path is used\r\n- **service.ts**: Cleaned up Discord client initialization and improved error handling\r\n- Updated `@elizaos/core` dependency to `^1.6.4`\r\n\r\n**Benefits:**\r\n- Standardized messaging across all platforms\r\n- Automatic field auto-filling (id, agentId, createdAt)\r\n- Better connection management via `ensureConnection`\r\n- Support for SYNC/ASYNC modes with callbacks\r\n- Reduced code duplication\r\n\r\n## What kind of change is this?\r\n\r\n- [x] Features (non-breaking change which adds functionality)\r\n- [x] Improvements (misc. changes to existing features)\r\n- [x] Updates (new versions of included code)\r\n\r\n## Why are we doing this?\r\n\r\nThe unified messaging API provides a single, standardized entry point for all message processing. Instead of each plugin calling `messageService.handleMessage()` directly, they can now use `elizaOS.sendMessage()` which provides:\r\n\r\n- Auto-filling of required fields\r\n- Connection verification before processing\r\n- Support for SYNC/ASYNC modes\r\n- Consistent error handling\r\n- Better observability\r\n\r\nThis improves maintainability and ensures all platforms benefit from future enhancements to the unified API.\r\n\r\n# Testing\r\n\r\n## Where should a reviewer start?\r\n\r\n1. Review the main change: `src/messages.ts` lines 331-345 - unified API integration\r\n2. Check service improvements: `src/service.ts` - cleaner initialization\r\n3. Verify logging: Debug logs show which path is used\r\n4. Check dependencies: `package.json` - updated core version\r\n\r\n**Test scenario:**\r\n```\r\nUser: @Bot What's up?\r\nBot: Fine, and you ?\r\n```\r\n\r\nLogs show:\r\n```\r\nInfo [Discord] Using unified messaging API\r\nInfo [MessageService] Message received from <user> in room <room>\r\nDebug [MessageService] Processing message: ...\r\n```\r\n\r\n## Deployment instructions\r\n\r\n1. Ensure `@elizaos/core` is updated to `^1.6.4` or later (includes unified API runtime reference)\r\n2. Rebuild plugin: `bun run build`\r\n3. Standard deployment process\r\n\r\n## Special note\r\n\r\nLater we will remove the fallback and clean many lines of code on discord-plugin\r\n\n\n<!-- This is an auto-generated comment: release notes by coderabbit.ai -->\n## Summary by CodeRabbit\n\n* **New Features**\n  * Channel management: allow/disallow channels and view allowed channel list.\n  * Fetch text channel members with optional caching.\n\n* **Improvements**\n  * Unified messaging path used when available, with fallback to previous path.\n  * More robust connection and message handling with clearer logging.\n\n* **Chores**\n  * Bumped version to 1.3.3.\n  * Updated core dependency to a newer compatible release.\n<!-- end of auto-generated comment: release notes by coderabbit.ai -->",
      "repository": "elizaos-plugins/plugin-discord",
      "createdAt": "2025-11-03T14:56:35Z",
      "mergedAt": null,
      "additions": 48,
      "deletions": 34
    }
  ],
  "codeChanges": {
    "additions": 0,
    "deletions": 0,
    "files": 0,
    "commitCount": 5
  },
  "completedItems": [],
  "topContributors": [
    {
      "username": "Freytes",
      "avatarUrl": "https://avatars.githubusercontent.com/u/4147278?u=89aa9570e6f8b4a8e9e41e8f908c16fb69c5a43f&v=4",
      "totalScore": 232.1658694828805,
      "prScore": 232.1658694828805,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "odilitime",
      "avatarUrl": "https://avatars.githubusercontent.com/u/16395496?u=c9bac48e632aae594a0d85aaf9e9c9c69b674d8b&v=4",
      "totalScore": 188.812604994686,
      "prScore": 188.61260499468602,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0.2,
      "summary": null
    },
    {
      "username": "standujar",
      "avatarUrl": "https://avatars.githubusercontent.com/u/16385918?u=718bdcd1585be8447bdfffb8c11ce249baa7532d&v=4",
      "totalScore": 108.75269555221574,
      "prScore": 108.55269555221574,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0.2,
      "summary": "standujar: Focused on significant new feature development, opening several substantial pull requests to implement entity-level row-level security (elizaos/eliza#6107) and integrate a unified messaging API (elizaos-plugins/plugin-discord#24). The complexity of this work is highlighted by the extensive code changes (+4640/-1654 lines across 187 files). This activity shows a primary focus on feature implementation and refactoring, supported by a significant amount of new test code."
    },
    {
      "username": "0xbbjoker",
      "avatarUrl": "https://avatars.githubusercontent.com/u/54844437?u=90fe1762420de6ad493a1c1582f1f70c0d87d8e2&v=4",
      "totalScore": 88.51429287979695,
      "prScore": 83.51429287979695,
      "issueScore": 0,
      "reviewScore": 5,
      "commentScore": 0,
      "summary": "0xbbjoker: Made progress on development work this week, committing changes across 9 files (+596/-384) with a focus on bugfixes. In addition to this unsubmitted work, they also supported the team by providing one PR approval."
    },
    {
      "username": "borisudovicic",
      "avatarUrl": "https://avatars.githubusercontent.com/u/31806472?u=8935f4d43fd7e4eb9bf5ff92d54d4d2f8ac8a786&v=4",
      "totalScore": 34,
      "prScore": 0,
      "issueScore": 34,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": "borisudovicic: Focused on planning future work in the elizaos/eliza repository by creating three issues. These issues outline potential new features and architectural considerations, including \"Points / Leaderboard\" (#6110), \"Background tasks\" (#6109), and \"Parallel actions\" (#6108)."
    },
    {
      "username": "madjin",
      "avatarUrl": "https://avatars.githubusercontent.com/u/32600939?u=cdcf89f44c7a50906c7a80d889efa85023af2049&v=4",
      "totalScore": 23.146346309695485,
      "prScore": 23.146346309695485,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": "madjin: This week, madjin focused on expanding the project's data pipeline by updating its configuration. They merged a pull request in elizaos/elizaos.github.io (#169) that added 12 new active repositories. This contribution consisted entirely of configuration changes."
    },
    {
      "username": "ai16x402",
      "avatarUrl": "https://avatars.githubusercontent.com/u/241517257?u=db5e37fbc5cfc2fc78bd2de767f7235704dc2b0f&v=4",
      "totalScore": 18.743735902799724,
      "prScore": 18.305735902799725,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0.43799999999999994,
      "summary": "ai16x402 focused on expanding the plugin ecosystem by submitting the new \"AI16z Trading Insights\" plugin. They opened two pull requests in elizaos-plugins/registry (#238, #239) to add the plugin. This work consisted of several commits modifying configuration files."
    },
    {
      "username": "ChristopherTrimboli",
      "avatarUrl": "https://avatars.githubusercontent.com/u/27584221?u=0d816ce1dcdea8f925aba18bb710153d4a87a719&v=4",
      "totalScore": 16,
      "prScore": 0,
      "issueScore": 0,
      "reviewScore": 16,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "otaku-x402",
      "avatarUrl": "https://avatars.githubusercontent.com/u/242004857?u=1325b26d380eec4a0b8d84e8e249c523eebd28dc&v=4",
      "totalScore": 11.897573590279972,
      "prScore": 11.897573590279972,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "LinuxIsCool",
      "avatarUrl": "https://avatars.githubusercontent.com/u/31582215?u=b8eb5d3849bf877a3a0b686cf1632aca92e744ae&v=4",
      "totalScore": 4,
      "prScore": 0,
      "issueScore": 4,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "samarth30",
      "avatarUrl": "https://avatars.githubusercontent.com/u/48334430?u=1fc119a6c2deb8cf60448b4c8961cb21dc69baeb&v=4",
      "totalScore": 2,
      "prScore": 0,
      "issueScore": 2,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "linear",
      "avatarUrl": "https://avatars.githubusercontent.com/in/20150?v=4",
      "totalScore": 2,
      "prScore": 0,
      "issueScore": 2,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": "linear: This week, linear's activity was focused on planning, where they created an issue to define entity-level row-level security (elizaos/eliza#6112)."
    }
  ],
  "newPRs": 1,
  "mergedPRs": 0,
  "newIssues": 0,
  "closedIssues": 0,
  "activeContributors": 3
}