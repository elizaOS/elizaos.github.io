{
  "interval": {
    "intervalStart": "2025-12-21T00:00:00.000Z",
    "intervalEnd": "2025-12-28T00:00:00.000Z",
    "intervalType": "week"
  },
  "repository": "elizaos-plugins/plugin-discord",
  "overview": "From 2025-12-21 to 2025-12-28, elizaos-plugins/plugin-discord had 6 new PRs (4 merged), 0 new issues, and 4 active contributors.",
  "topIssues": [],
  "topPRs": [
    {
      "id": "PR_kwDOOtXZkc66Qf7B",
      "title": "Add multi-bot voice architecture with audio channels and progressive updates",
      "author": "odilitime",
      "number": 36,
      "body": "<!-- CURSOR_SUMMARY -->\n> [!NOTE]\n> Adds major Discord plugin capabilities and integrations with music broadcast architecture.\n> \n> - Multi-bot support via `DiscordClientRegistry` with token validation, per-bot `VoiceManager`, WORLD_CONNECTED emission, and cleanup APIs; new tests for simulcast/independent routing\n> - Progressive updates: new `ProgressiveMessage` helper and `MessageManager` edits-in-place with 60s TTL, throttling/debouncing, and graceful fallback; unit tests included\n> - Audio contracts and channels: introduce `IAudioSink` (plus `DiscordAudioSink` export), `audioChannels` (TTS/MUSIC/SFX/AMBIENT with priorities/ducking), and `audioState` provider; environment adds voice duck/threshold/ramp settings\n> - New actions: `SET_VOICE_CHANNEL_STATUS` and `SET_LISTENING_ACTIVITY` with parsing prompts and Discord service calls; added `VOICE_STATUS_FEATURES.md`\n> - README expanded (progressive updates, multi-channel audio, sink integration); added architecture docs (`MUSIC_ARCHITECTURE.md`, `COORDINATION_PATTERNS.md`, `PROGRESSIVE_UPDATES.md`)\n> - Tests: message manager, voice manager pipeline, token validation, progressive message behavior, multibot simulcast/independent scenarios\n> \n> <sup>Written by [Cursor Bugbot](https://cursor.com/dashboard?tab=bugbot) for commit 693f58a098411051a26b23bfa4c15afdb3b64e01. This will update automatically on new commits. Configure [here](https://cursor.com/dashboard?tab=bugbot).</sup>\n<!-- /CURSOR_SUMMARY -->\n\n<!-- This is an auto-generated comment: release notes by coderabbit.ai -->\n\n## Summary by CodeRabbit\n\n## Release Notes\n\n* **New Features**\n  * Progressive message updates for real-time status on long-running operations\n  * Multi-channel audio system with priority-based mixing (TTS, Music, SFX, Ambient)\n  * Voice channel status management capability\n  * Bot listening activity control\n  * Multi-bot orchestration support\n  * Audio sink abstraction for voice playback\n\n* **Documentation**\n  * Added comprehensive guides for coordination patterns, music architecture, and progressive updates\n  * Added voice status features documentation\n\n* **Tests**\n  * Added test coverage for multi-bot scenarios, progressive messaging, audio routing, and voice management\n\n<sub>‚úèÔ∏è Tip: You can customize this high-level summary in your review settings.</sub>\n\n<!-- end of auto-generated comment: release notes by coderabbit.ai -->",
      "repository": "elizaos-plugins/plugin-discord",
      "createdAt": "2025-12-23T04:36:15Z",
      "mergedAt": null,
      "additions": 8012,
      "deletions": 783
    },
    {
      "id": "PR_kwDOOtXZkc66Wt5v",
      "title": "fix: resolve TypeScript type errors with typed event handlers",
      "author": "standujar",
      "number": 38,
      "body": "## Summary\r\n- Add `DiscordRegisterCommandsPayload` interface extending `EventPayload`\r\n- Use generic type in `registerEvent` for `DISCORD_REGISTER_COMMANDS`\r\n- Fix `useModel` transcription call to pass `Buffer` instead of `File`\r\n- Fix `serverMessageId` instead of `serverId` on actions\r\n- Linting\r\n\r\n## Dependencies\r\n‚ö†Ô∏è **Requires https://github.com/elizaOS/eliza/pull/6277 to be merged first**\r\n\r\nThis PR uses the new generic type support for `registerEvent<P extends EventPayload>()` added in the core PR.\r\n\r\n<!-- This is an auto-generated comment: release notes by coderabbit.ai -->\r\n\r\n## Summary by CodeRabbit\r\n\r\n* **New Features**\r\n  * Introduced DiscordRegisterCommandsPayload interface for Discord command registration with enhanced configuration capabilities, including channel permission control.\r\n\r\n* **Chores**\r\n  * Version bumped to 1.3.6.\r\n  * Code style and formatting refinements across type definitions and modules for improved consistency.\r\n\r\n<sub>‚úèÔ∏è Tip: You can customize this high-level summary in your review settings.</sub>\r\n\r\n<!-- end of auto-generated comment: release notes by coderabbit.ai -->",
      "repository": "elizaos-plugins/plugin-discord",
      "createdAt": "2025-12-23T16:18:16Z",
      "mergedAt": "2025-12-23T17:04:57Z",
      "additions": 3131,
      "deletions": 1504
    },
    {
      "id": "PR_kwDOOtXZkc66XIlN",
      "title": "fix: use messageServerId instead of deprecated serverId",
      "author": "standujar",
      "number": 39,
      "body": "## Summary\n- Replace all usages of `room?.serverId` with `room?.messageServerId` in Discord action files\n- Uses the correct UUID-based server identifier from core\n\n## Files changed\n- getUserInfo.ts\n- joinChannel.ts\n- leaveChannel.ts\n- readChannel.ts\n- searchMessages.ts\n- sendDM.ts\n- serverInfo.ts\nI did some lint too\n\n<!-- This is an auto-generated comment: release notes by coderabbit.ai -->\n\n## Summary by CodeRabbit\n\n* **New Features**\n  * Direct message sending now properly delivers messages via Discord.\n  * Channel reading enhanced with message summarization and user focus context.\n\n* **Bug Fixes**\n  * Improved server identification consistency across messaging actions.\n\n* **Chores**\n  * Code formatting standardization and minor structural adjustments.\n  * Version bump to 1.3.6.\n\n<sub>‚úèÔ∏è Tip: You can customize this high-level summary in your review settings.</sub>\n\n<!-- end of auto-generated comment: release notes by coderabbit.ai -->",
      "repository": "elizaos-plugins/plugin-discord",
      "createdAt": "2025-12-23T17:00:30Z",
      "mergedAt": null,
      "additions": 723,
      "deletions": 518
    },
    {
      "id": "PR_kwDOOtXZkc646Y1y",
      "title": "refactor: update message handling",
      "author": "standujar",
      "number": 32,
      "body": "We wait: https://github.com/elizaOS/eliza/pull/6212 merge first\n\n<!-- This is an auto-generated comment: release notes by coderabbit.ai -->\n\n## Summary by CodeRabbit\n\n## Release Notes\n\n* **Chores**\n  * Removed unused development dependency\n\n* **Bug Fixes**\n  * Improved error handling for direct message service to provide better failure reporting\n\n* **Refactor**\n  * Updated message routing system with improved identifier tracking across messaging pathways\n  * Enhanced unified messaging API integration for better message handling\n\n<sub>‚úèÔ∏è Tip: You can customize this high-level summary in your review settings.</sub>\n\n<!-- end of auto-generated comment: release notes by coderabbit.ai -->",
      "repository": "elizaos-plugins/plugin-discord",
      "createdAt": "2025-12-15T12:30:26Z",
      "mergedAt": "2025-12-23T14:48:46Z",
      "additions": 666,
      "deletions": 406
    },
    {
      "id": "PR_kwDOOtXZkc66PAZj",
      "title": "Add permission system and enhance server/message fallback handling",
      "author": "odilitime",
      "number": 34,
      "body": "<!-- CURSOR_SUMMARY -->\n> [!NOTE]\n> ‚Ä¢ **Reactions**: Implement fast-path emoji extraction from agent responses, explicit-request detection, and LLM fallback; refined emoji normalization and quieter failures when auto-reacting (`reactToMessage.ts`).\n> \n> ‚Ä¢ **Channel reads/search**: More robust channel resolution by name with server checks and clearer user errors when server context is missing (`readChannel.ts`, `searchMessages.ts`).\n> \n> ‚Ä¢ **Banner**: Improved ANSI-safe padding/truncation, clearer status labeling (custom/default/unset/required), and better value masking/formatting (`banner.ts`).\n> \n> ‚Ä¢ **Permissions**: Export numeric permission tiers for invite URL generation, documenting BigInt‚ÜíNumber conversion considerations (`permissions.ts`).\n> \n> ‚Ä¢ **Service API**: Expose text channel `topic` in room metadata and add `getChannelTopic(channelId)` for fresh topic retrieval (`service.ts`).\n> \n> <sup>Written by [Cursor Bugbot](https://cursor.com/dashboard?tab=bugbot) for commit 4385e67b2ee33cffa7d615a4d8c9eb2a494f234a. This will update automatically on new commits. Configure [here](https://cursor.com/dashboard?tab=bugbot).</sup>\n<!-- /CURSOR_SUMMARY -->\n\n<!-- This is an auto-generated comment: release notes by coderabbit.ai -->\n## Summary by CodeRabbit\n\n* **New Features**\n  * Channel topic info is now exposed via the service API for plugins and syncs.\n\n* **Bug Fixes**\n  * Faster, more reliable emoji reaction extraction with explicit-request detection and graceful silent skip.\n  * Improved channel resolution and server-guarding for message reads and searches.\n  * Settings banner rendering refined to preserve special characters and correct visible-length truncation.\n\n* **Documentation**\n  * Permission docs updated to note numeric conversion considerations for URL compatibility.\n\n<sub>‚úèÔ∏è Tip: You can customize this high-level summary in your review settings.</sub>\n<!-- end of auto-generated comment: release notes by coderabbit.ai -->",
      "repository": "elizaos-plugins/plugin-discord",
      "createdAt": "2025-12-22T23:26:10Z",
      "mergedAt": "2025-12-23T01:26:04Z",
      "additions": 263,
      "deletions": 87
    }
  ],
  "codeChanges": {
    "additions": 4096,
    "deletions": 2004,
    "files": 27,
    "commitCount": 56
  },
  "completedItems": [
    {
      "title": "refactor: update message handling",
      "prNumber": 32,
      "type": "refactor",
      "body": "We wait: https://github.com/elizaOS/eliza/pull/6212 merge first\n\n<!-- This is an auto-generated comment: release notes by coderabbit.ai -->\n\n## Summary by CodeRabbit\n\n## Release Notes\n\n* **Chores**\n  * Removed unused development dependency\n",
      "files": [
        "bun.lock",
        "package.json",
        "src/messages.ts",
        "src/actions/chatWithAttachments.ts",
        "src/actions/downloadMedia.ts",
        "src/actions/getUserInfo.ts",
        "src/actions/joinChannel.ts",
        "src/actions/leaveChannel.ts",
        "src/actions/listChannels.ts",
        "src/actions/reactToMessage.ts",
        "src/actions/searchMessages.ts",
        "src/actions/sendDM.ts",
        "src/actions/serverInfo.ts",
        "src/actions/summarizeConversation.ts",
        "src/actions/transcribeMedia.ts",
        "src/attachments.ts",
        "src/banner.ts",
        "src/compat.ts",
        "src/environment.ts",
        "src/permissionEvents.ts",
        "src/service.ts",
        "src/tests.ts",
        "src/types.ts",
        "src/utils.ts",
        "src/voice.ts"
      ]
    },
    {
      "title": "fix: resolve TypeScript type errors with typed event handlers",
      "prNumber": 38,
      "type": "bugfix",
      "body": "## Summary\r\n- Add `DiscordRegisterCommandsPayload` interface extending `EventPayload`\r\n- Use generic type in `registerEvent` for `DISCORD_REGISTER_COMMANDS`\r\n- Fix `useModel` transcription call to pass `Buffer` instead of `File`\r\n- Fix `ser",
      "files": [
        "package.json",
        "src/actions/getUserInfo.ts",
        "src/actions/joinChannel.ts",
        "src/actions/leaveChannel.ts",
        "src/actions/readChannel.ts",
        "src/actions/searchMessages.ts",
        "src/actions/sendDM.ts",
        "src/actions/serverInfo.ts",
        "src/service.ts",
        "src/types.ts",
        "src/voice.ts"
      ]
    },
    {
      "title": "üìù Add docstrings to `odi-spider`",
      "prNumber": 35,
      "type": "other",
      "body": "Docstrings generation was requested by @odilitime.\n\n* https://github.com/elizaos-plugins/plugin-discord/pull/34#issuecomment-3684579847\n\nThe following files were modified:\n\n* `src/actions/reactToMessage.ts`\n* `src/banner.ts`\n\n<details>\n<sum",
      "files": [
        "src/actions/reactToMessage.ts",
        "src/banner.ts"
      ]
    },
    {
      "title": "Add permission system and enhance server/message fallback handling",
      "prNumber": 34,
      "type": "other",
      "body": "<!-- CURSOR_SUMMARY -->\n> [!NOTE]\n> ‚Ä¢ **Reactions**: Implement fast-path emoji extraction from agent responses, explicit-request detection, and LLM fallback; refined emoji normalization and quieter failures when auto-reacting (`reactToMessa",
      "files": [
        "src/actions/reactToMessage.ts",
        "src/actions/readChannel.ts",
        "src/actions/searchMessages.ts",
        "src/banner.ts",
        "src/permissions.ts",
        "src/service.ts"
      ]
    }
  ],
  "topContributors": [
    {
      "username": "standujar",
      "avatarUrl": "https://avatars.githubusercontent.com/u/16385918?u=718bdcd1585be8447bdfffb8c11ce249baa7532d&v=4",
      "totalScore": 146.04853611752128,
      "prScore": 146.04853611752128,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "0xbbjoker",
      "avatarUrl": "https://avatars.githubusercontent.com/u/54844437?u=90fe1762420de6ad493a1c1582f1f70c0d87d8e2&v=4",
      "totalScore": 103.24409067913322,
      "prScore": 93.24409067913322,
      "issueScore": 0,
      "reviewScore": 10,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "odilitime",
      "avatarUrl": "https://avatars.githubusercontent.com/u/16395496?u=c9bac48e632aae594a0d85aaf9e9c9c69b674d8b&v=4",
      "totalScore": 89.5281325669737,
      "prScore": 89.18813256697369,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0.33999999999999997,
      "summary": null
    },
    {
      "username": "wtfsayo",
      "avatarUrl": "https://avatars.githubusercontent.com/u/82053242?u=98209a1f10456f42d4d2fa71db4d5bf4a672cbc3&v=4",
      "totalScore": 59.5403379394132,
      "prScore": 59.340337939413196,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0.2,
      "summary": null
    },
    {
      "username": "prajwal-pl",
      "avatarUrl": "https://avatars.githubusercontent.com/u/150137841?u=dd1ae31ec1ca9909364231a779dcb2af30c5e792&v=4",
      "totalScore": 41.430056250181565,
      "prScore": 41.430056250181565,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "0xtechdean",
      "avatarUrl": "https://avatars.githubusercontent.com/u/16443050?u=d1347a48b94a4c011e872424ea1940f3a0a8331d&v=4",
      "totalScore": 35.89159695492178,
      "prScore": 35.89159695492178,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "borisudovicic",
      "avatarUrl": "https://avatars.githubusercontent.com/u/31806472?u=8935f4d43fd7e4eb9bf5ff92d54d4d2f8ac8a786&v=4",
      "totalScore": 24,
      "prScore": 0,
      "issueScore": 24,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "linear",
      "avatarUrl": "https://avatars.githubusercontent.com/in/20150?v=4",
      "totalScore": 2,
      "prScore": 0,
      "issueScore": 2,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "flaviobruno72",
      "avatarUrl": "https://avatars.githubusercontent.com/u/168378940?v=4",
      "totalScore": 2,
      "prScore": 0,
      "issueScore": 2,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    }
  ],
  "newPRs": 6,
  "mergedPRs": 4,
  "newIssues": 0,
  "closedIssues": 0,
  "activeContributors": 4
}