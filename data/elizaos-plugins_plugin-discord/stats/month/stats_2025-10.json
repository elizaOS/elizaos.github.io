{
  "interval": {
    "intervalStart": "2025-10-01T00:00:00.000Z",
    "intervalEnd": "2025-11-01T00:00:00.000Z",
    "intervalType": "month"
  },
  "repository": "elizaos-plugins/plugin-discord",
  "overview": "From 2025-10-01 to 2025-11-01, elizaos-plugins/plugin-discord had 4 new PRs (3 merged), 0 new issues, and 6 active contributors.",
  "topIssues": [],
  "topPRs": [
    {
      "id": "PR_kwDOOtXZkc6rw2QF",
      "title": "refactor: use new mentionContext interface",
      "author": "standujar",
      "number": 19,
      "body": "# Relates to\r\n\r\nDepends on eliza core PR: `feature/mention-context-refactor` (introduces MentionContext interface)\r\n\r\nRelated to issue discussing problems with fuzzy matching for character name detection in Discord plugin\r\n\r\n# Risks\r\n\r\n**Medium Risk**\r\n- Changes mention detection behavior in Discord messages\r\n\r\n# Background\r\n\r\n## What does this PR do?\r\n\r\nThis PR refactors the Discord plugin to adopt the new platform-agnostic `MentionContext` interface\r\n\r\n**Added:**\r\n- ✅ `mentionContext` metadata collection in message handler\r\n  - `isMention`: Platform-native @mention detection\r\n  - `isReply`: Reply to bot's message detection\r\n  - `isThread`: Thread participation detection\r\n  - `mentionType`: Categorizes mention type for debugging\r\n\r\n**Preserved:**\r\n- ✅ `DISCORD_SHOULD_RESPOND_ONLY_TO_MENTIONS` for strict mode\r\n- ✅ Strict mode early return (platform layer gating before bootstrap)\r\n\r\n**Key Architecture:**\r\n- Discord plugin provides FACTS only (mentionContext metadata)\r\n- Bootstrap LLM handles text-based mention detection naturally\r\n- Strict mode operates at platform layer (early return)\r\n- Natural mode relies on LLM intelligence for context analysis\r\n\r\n# Documentation changes needed?\r\n\r\n- [x] My changes require a change to the project documentation\r\n- Documentation needed for:\r\n  - Explanation of new `mentionContext` behavior\r\n  - Clarification of strict mode (`DISCORD_SHOULD_RESPOND_ONLY_TO_MENTIONS`) behavior\r\n\r\n# Testing\r\n\r\n## Where should a reviewer start?\r\n\r\n1. Review `mentionContext` collection in `src/messages.ts` (search for \"mentionContext\")\r\n2. Review strict mode implementation in `src/messages.ts` (search for \"shouldRespondOnlyToMentions\")\r\n3. Run test suite to verify coverage\r\n\r\n## Detailed testing steps\r\n\r\n**Automated Tests:**\r\n\r\n```bash\r\n# Discord plugin tests (17 tests)\r\nbun test __tests__/messageManager.test.ts\r\n```\r\n\r\n**Test Coverage:**\r\n- ✅ `__tests__/messageManager.test.ts`\r\n  - Updated all existing tests to work with mentionContext\r\n  - Added 13 new tests in 3 groups:\r\n    1. **mentionContext metadata tests (5 tests)**\r\n       - Direct @mention sets isMention=true\r\n       - Reply to bot sets isReply=true\r\n       - Thread participation sets isThread=true\r\n       - Regular message has all false\r\n       - mentionType is correctly categorized\r\n    2. **Strict mode tests (4 tests)**\r\n       - Processes DMs in strict mode\r\n       - Processes @mentions in strict mode\r\n       - Processes replies to bot in strict mode\r\n       - Ignores regular messages in strict mode\r\n    3. **Natural mode tests (3 tests)**\r\n       - Processes all message types in natural mode\r\n       - Adds mentionContext to all messages\r\n       - Lets LLM decide based on context\r\n  - **Result: 17 pass, 0 fail**\r\n\r\n**Manual Testing (Discord Bot):**\r\n\r\n1. **Test strict mode** (`DISCORD_SHOULD_RESPOND_ONLY_TO_MENTIONS=true`):\r\n   ```\r\n   ✅ @BotName hello          → Should respond (platform mention)\r\n   ✅ Reply to bot's message  → Should respond (reply to bot)\r\n   ✅ DM to bot               → Should respond (DM)\r\n   ❌ Hey BotName, help me    → Should NOT respond (text mention ignored in strict mode)\r\n   ❌ BotName is cool         → Should NOT respond (reference ignored)\r\n   ❌ Reply to user message   → Should NOT respond (not a reply to bot)\r\n   ```\r\n\r\n2. **Test natural mode** (default, no strict mode):\r\n   ```\r\n   ✅ @BotName hello               → Should respond (platform mention)\r\n   ✅ Hey BotName, help me         → Should respond (LLM detects direct address)\r\n   ✅ BotNamee can you help?       → Should respond (LLM handles typos)\r\n   ✅ Where is BotName?            → Should respond (LLM detects indirect question)\r\n   ❌ I talked to BotName yesterday → Should NOT respond (LLM detects past reference)\r\n   ❌ BotName's code is great      → Should NOT respond (LLM detects possessive reference)\r\n   ```\r\n\r\n## Screenshots\r\n\r\nN/A - This is backend message processing with no UI changes\r\n\r\n# Deploy Notes\r\n\r\n## Deployment instructions\r\n\r\n**Prerequisites:**\r\n- ⚠️ **Wait for eliza core v1.6.2 release** (with MentionContext interface)\r\n- This PR uses `@elizaos/core: ^1.5.15` which will automatically pick up v1.6.x\r\n\r\n**Breaking change migration:**\r\n- Users wanting strict mention-only mode should use `DISCORD_SHOULD_RESPOND_ONLY_TO_MENTIONS=true`\r\n- Users wanting natural text mention detection should use default mode (no setting needed)\r\n\r\n**No database changes required**\r\n\n\n<!-- This is an auto-generated comment: release notes by coderabbit.ai -->\n\n## Summary by CodeRabbit\n\n* New Features\n  * New Discord settings: ignore bot messages, ignore DMs, respond only to mentions.\n  * Smarter message handling with mention context (mentions, replies, threads) for stricter or natural modes.\n  * Ability to fetch eligible text-channel members with caching for large servers.\n* Bug Fixes\n  * Safer handling when channel type is missing and clearer validation errors.\n  * More consistent and informative error logging.\n* Tests\n  * Expanded coverage for mentions, replies, threads, DMs, and audio attachments.\n* Chores\n  * Version bump to 1.3.0 and dependency updates.\n\n<!-- end of auto-generated comment: release notes by coderabbit.ai -->",
      "repository": "elizaos-plugins/plugin-discord",
      "createdAt": "2025-10-02T12:56:49Z",
      "mergedAt": "2025-10-04T14:45:52Z",
      "additions": 543,
      "deletions": 477
    },
    {
      "id": "PR_kwDOOtXZkc6rUZp9",
      "title": "feat: add shouldRespondToCharacterName setting",
      "author": "standujar",
      "number": 18,
      "body": "\n\n<!-- This is an auto-generated comment: release notes by coderabbit.ai -->\n\n## Summary by CodeRabbit\n\n- New Features\n  - New Discord settings: ignore bot messages, ignore direct messages, or respond only when mentioned.\n  - Smarter mention handling: recognizes bot name case-insensitively and in replies/threads for more accurate responses.\n  - Improved channel member awareness to enhance mention and response behavior.\n\n- Improvements\n  - Clearer, more actionable error messages and logging.\n  - More resilient messaging flow with better handling of typing indicators and message chunks.\n\n- Chores\n  - Version bump to 1.3.0.\n  - Dependency updates, including core library and new Levenshtein utility.\n\n<!-- end of auto-generated comment: release notes by coderabbit.ai -->",
      "repository": "elizaos-plugins/plugin-discord",
      "createdAt": "2025-09-30T12:02:48Z",
      "mergedAt": null,
      "additions": 383,
      "deletions": 474
    },
    {
      "id": "PR_kwDOOtXZkc6lsWxw",
      "title": "Support embeds/forwards, clientReadyPromise, DISCORD_LISTEN_CHANNEL_MESSAGE event",
      "author": "odilitime",
      "number": 17,
      "body": "\n\n<!-- This is an auto-generated comment: release notes by coderabbit.ai -->\n## Summary by CodeRabbit\n\n- New Features\n  - Processed messages now include embed titles/descriptions, referenced-message context (including channel/guild when different), and code blocks extracted as attachments with in-text references.\n  - Configurable listening channels via environment variables; messages from those channels are ingested with metadata, attachments, reply links, timestamps, and source info.\n  - Added public methods to fetch channel members and register send handlers.\n\n- Refactor\n  - Startup now awaits client readiness before processing events; channel filtering centralized during event listener setup and inbound routing.\n\n- Chores\n  - Improved runtime logging and observability for channel configuration, inbound routing, login errors, and non-listening-channel messages.\n<!-- end of auto-generated comment: release notes by coderabbit.ai -->",
      "repository": "elizaos-plugins/plugin-discord",
      "createdAt": "2025-08-27T23:20:40Z",
      "mergedAt": "2025-10-02T12:40:18Z",
      "additions": 158,
      "deletions": 18
    },
    {
      "id": "PR_kwDOOtXZkc6sm_Jb",
      "title": "feat(plugin-discord): migrate to runtime.handleMessage() WIP",
      "author": "0xbbjoker",
      "number": 21,
      "body": "",
      "repository": "elizaos-plugins/plugin-discord",
      "createdAt": "2025-10-08T03:21:25Z",
      "mergedAt": null,
      "additions": 70,
      "deletions": 53
    },
    {
      "id": "PR_kwDOOtXZkc6sJpd5",
      "title": "chore: add renovate configuration",
      "author": "standujar",
      "number": 20,
      "body": "\n\n<!-- This is an auto-generated comment: release notes by coderabbit.ai -->\n\n## Summary by CodeRabbit\n\n* **Chores**\n  * Introduced a Renovate configuration that extends a shared preset.\n  * Groups Discord.js ecosystem dependency updates into a single “Discord.js” group with clear labeling.\n  * Streamlines dependency update PRs, reducing noise and making reviews more efficient.\n  * No user-facing changes or behavior impact.\n\n<!-- end of auto-generated comment: release notes by coderabbit.ai -->",
      "repository": "elizaos-plugins/plugin-discord",
      "createdAt": "2025-10-05T16:42:03Z",
      "mergedAt": null,
      "additions": 12,
      "deletions": 0
    }
  ],
  "codeChanges": {
    "additions": 708,
    "deletions": 500,
    "files": 8,
    "commitCount": 16
  },
  "completedItems": [
    {
      "title": "refactor: use new mentionContext interface",
      "prNumber": 19,
      "type": "refactor",
      "body": "# Relates to\r\n\r\nDepends on eliza core PR: `feature/mention-context-refactor` (introduces MentionContext interface)\r\n\r\nRelated to issue discussing problems with fuzzy matching for character name detection in Discord plugin\r\n\r\n# Risks\r\n\r\n**Me",
      "files": [
        "__tests__/environment.test.ts",
        "__tests__/messageManager.test.ts",
        "bun.lock",
        "package.json",
        "src/environment.ts",
        "src/messages.ts",
        "src/service.ts",
        "vitest.config.ts"
      ]
    },
    {
      "title": "Support embeds/forwards, clientReadyPromise, DISCORD_LISTEN_CHANNEL_MESSAGE event",
      "prNumber": 17,
      "type": "other",
      "body": "\n\n<!-- This is an auto-generated comment: release notes by coderabbit.ai -->\n## Summary by CodeRabbit\n\n- New Features\n  - Processed messages now include embed titles/descriptions, referenced-message context (including channel/guild when dif",
      "files": [
        "src/messages.ts",
        "src/service.ts"
      ]
    },
    {
      "title": "fix: Add null check for DISCORD_LISTEN_CHANNEL_IDS setting",
      "prNumber": 22,
      "type": "bugfix",
      "body": "## Summary\n\nFixes the runtime error: `null is not an object (evaluating 'listenCidsRaw.trim')` that occurs when initializing the Discord plugin.\n\n## Problem\n\nThe code in `setupEventListeners()` was attempting to call `.trim()` on the `DISCO",
      "files": [
        "bun.lock",
        "package.json",
        "src/service.ts"
      ]
    }
  ],
  "topContributors": [
    {
      "username": "standujar",
      "avatarUrl": "https://avatars.githubusercontent.com/u/16385918?u=718bdcd1585be8447bdfffb8c11ce249baa7532d&v=4",
      "totalScore": 396.9263177175857,
      "prScore": 372.1103177175857,
      "issueScore": 0,
      "reviewScore": 23,
      "commentScore": 1.8159999999999998,
      "summary": "standujar: Focused on significant refactoring of core components, introducing a new `mentionContext` interface in `elizaos/eliza#6030` which simplified the codebase (+520/-681 lines) and improved response logic. This core change was then propagated to dependent plugins like in `elizaos-plugins/plugin-discord#19`. They also fixed a bug in `elizaos-plugins/plugin-openrouter#15` related to AI SDK v5 tool results extraction. Their activity shows a primary focus on refactoring, bug fixes, and widespread configuration updates."
    },
    {
      "username": "0xbbjoker",
      "avatarUrl": "https://avatars.githubusercontent.com/u/54844437?u=90fe1762420de6ad493a1c1582f1f70c0d87d8e2&v=4",
      "totalScore": 335.87130705758307,
      "prScore": 309.551307057583,
      "issueScore": 0,
      "reviewScore": 24.5,
      "commentScore": 1.8199999999999998,
      "summary": "0xbbjoker: This month, 0xbbjoker focused on enhancing plugin functionality and improving code maintainability within the `elizaos/eliza` repository. They delivered a key feature by adding an offset parameter for memory retrieval in the SQL plugin (elizaos/eliza#6032), a substantial change of +516/-209 lines. Additionally, they improved codebase health by removing 289 lines of unused code in a separate refactoring effort (elizaos/eliza#6029). Their work shows a dual focus on feature development and code quality, and they also supported the team through code review and comments."
    },
    {
      "username": "wtfsayo",
      "avatarUrl": "https://avatars.githubusercontent.com/u/82053242?u=98209a1f10456f42d4d2fa71db4d5bf4a672cbc3&v=4",
      "totalScore": 205.8101129161618,
      "prScore": 198.97211291616182,
      "issueScore": 0,
      "reviewScore": 6,
      "commentScore": 0.838,
      "summary": "wtfsayo: This month, wtfsayo focused on improving code health and repository maintenance, executing a significant code standardization and formatting refactor in elizaos/eliza#6027 (+1124/-1385 lines). They also removed obsolete development files in elizaos/eliza#6026 and expanded the plugin ecosystem by adding a new relay plugin to the registry in elizaos-plugins/registry#234. Their work shows a primary focus on bugfixes and other maintenance, touching mostly code and configuration files."
    },
    {
      "username": "ChristopherTrimboli",
      "avatarUrl": "https://avatars.githubusercontent.com/u/27584221?u=0d816ce1dcdea8f925aba18bb710153d4a87a719&v=4",
      "totalScore": 93.33317040349459,
      "prScore": 83.63317040349459,
      "issueScore": 0,
      "reviewScore": 9.5,
      "commentScore": 0.2,
      "summary": "ChristopherTrimboli: No activity this month."
    },
    {
      "username": "odilitime",
      "avatarUrl": "https://avatars.githubusercontent.com/u/16395496?u=c9bac48e632aae594a0d85aaf9e9c9c69b674d8b&v=4",
      "totalScore": 88.24425912988502,
      "prScore": 66.60625912988502,
      "issueScore": 0,
      "reviewScore": 21,
      "commentScore": 0.6379999999999999,
      "summary": "odilitime: This month, odilitime's contributions were focused on supporting the team through code review. They completed 3 reviews, approving 2 and requesting changes on 1, and left 3 comments on pull requests."
    },
    {
      "username": "tcm390",
      "avatarUrl": "https://avatars.githubusercontent.com/u/60634884?u=c6c41679b8322eaa0c81f72e0b4ed95e80f0ac16&v=4",
      "totalScore": 56.505057291354944,
      "prScore": 51.505057291354944,
      "issueScore": 0,
      "reviewScore": 5,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "letmehateu",
      "avatarUrl": "https://avatars.githubusercontent.com/u/133153661?u=2217cec1ebd7bf22a8e4e3ace28b3183720dd444&v=4",
      "totalScore": 21.770674030744708,
      "prScore": 21.570674030744705,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0.2,
      "summary": null
    },
    {
      "username": "borisudovicic",
      "avatarUrl": "https://avatars.githubusercontent.com/u/31806472?u=8935f4d43fd7e4eb9bf5ff92d54d4d2f8ac8a786&v=4",
      "totalScore": 6,
      "prScore": 0,
      "issueScore": 6,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "matteo-brandolino",
      "avatarUrl": "https://avatars.githubusercontent.com/u/49117857?u=28be1833532b4c849d42f50867bd960807756272&v=4",
      "totalScore": 2,
      "prScore": 0,
      "issueScore": 2,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": "matteo-brandolino: This month, matteo-brandolino focused on identifying and reporting issues within the Eliza ecosystem. They opened a bug report concerning the Eliza CLI where imports were not being found (elizaos/eliza#6031) and contributed to discussions by commenting on two issues."
    },
    {
      "username": "TensorNull",
      "avatarUrl": "https://avatars.githubusercontent.com/u/129579691?u=fef786d866afd3d3a36397da036641c65906f3f2&v=4",
      "totalScore": 2,
      "prScore": 0,
      "issueScore": 2,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "FellowTraveler",
      "avatarUrl": "https://avatars.githubusercontent.com/u/339191?u=236b9970b7c3ce1e3167921f25d32323f05d916f&v=4",
      "totalScore": 2,
      "prScore": 0,
      "issueScore": 2,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    }
  ],
  "newPRs": 4,
  "mergedPRs": 3,
  "newIssues": 0,
  "closedIssues": 0,
  "activeContributors": 6
}