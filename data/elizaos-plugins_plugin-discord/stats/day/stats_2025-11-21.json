{
  "interval": {
    "intervalStart": "2025-11-21T00:00:00.000Z",
    "intervalEnd": "2025-11-22T00:00:00.000Z",
    "intervalType": "day"
  },
  "repository": "elizaos-plugins/plugin-discord",
  "overview": "From 2025-11-21 to 2025-11-22, elizaos-plugins/plugin-discord had 1 new PRs (1 merged), 0 new issues, and 4 active contributors.",
  "topIssues": [],
  "topPRs": [
    {
      "id": "PR_kwDOOtXZkc6wwBNq",
      "title": "Discord slash commands interface, modal interaction enhancements, attachment fixes",
      "author": "odilitime",
      "number": 23,
      "body": "<!-- CURSOR_SUMMARY -->\n> [!NOTE]\n> Adds dynamic slash command registration and modal handling, enables sending attachments in DMs/channels, and improves message/interaction processing with new exports.\n> \n> - **Discord Service**:\n>   - Introduces dynamic slash command system: `SLASH_COMMAND`/`MODAL_SUBMIT` events, `DiscordSlashCommand` type, `slashCommands` store, and runtime event `DISCORD_REGISTER_COMMANDS` to register/update app and guild commands.\n>   - Enhances interaction handling: ensures connections for interactions and emits unified events (no automatic defer to allow ephemeral replies).\n>   - Makes `clientReadyPromise` public/nullable; refines client init and logging.\n> - **Messaging**:\n>   - Enables sending attachments in DMs and channels by converting `Media` to `AttachmentBuilder` and passing to `sendMessageInChunks`.\n>   - Improves reply reference resolution via `fetchReference`; refines permission checks and structured logging.\n> - **Utils**:\n>   - Widens `sendMessageInChunks` `files` type to accept `AttachmentBuilder`; attaches files on last chunk; safer component handling.\n> - **Voice**:\n>   - Updates callback signature in voice response handler.\n> - **Exports**:\n>   - Re-exports `DISCORD_SERVICE_NAME`, `DiscordService`, and `IDiscordService` from `index`.\n> \n> <sup>Written by [Cursor Bugbot](https://cursor.com/dashboard?tab=bugbot) for commit 7fd4add1cc73f5c5b8780dd073aa16fe663d4029. This will update automatically on new commits. Configure [here](https://cursor.com/dashboard?tab=bugbot).</sup>\n<!-- /CURSOR_SUMMARY -->\n\n<!-- This is an auto-generated comment: release notes by coderabbit.ai -->\n\n## Summary by CodeRabbit\n\n* **New Features**\n  * Added slash command registration and handling capabilities\n  * Introduced modal submission support for enhanced interactions\n  * Added client readiness detection for better initialization tracking\n  * Implemented channel permission management and access controls\n\n* **Improvements**\n  * Enhanced attachment handling in messages\n  * Improved message reference resolution and context tracking\n  * Better error handling and diagnostic logging during startup and runtime\n\n* **Refactor**\n  * Updated event types and payload structures for interactions\n\n<!-- end of auto-generated comment: release notes by coderabbit.ai -->",
      "repository": "elizaos-plugins/plugin-discord",
      "createdAt": "2025-10-31T04:21:47Z",
      "mergedAt": "2025-11-21T06:41:42Z",
      "additions": 683,
      "deletions": 345
    },
    {
      "id": "PR_kwDOOtXZkc60wxMn",
      "title": "Prevent sending empty discord messages",
      "author": "odilitime",
      "number": 25,
      "body": "Add a guard to the DM response handler to prevent sending empty messages to Discord.\n\n---\n<a href=\"https://cursor.com/background-agent?bcId=bc-5e41e093-31a5-4d05-b576-27f780c37ec0\"><picture><source media=\"(prefers-color-scheme: dark)\" srcset=\"https://cursor.com/open-in-cursor-dark.svg\"><source media=\"(prefers-color-scheme: light)\" srcset=\"https://cursor.com/open-in-cursor-light.svg\"><img alt=\"Open in Cursor\" src=\"https://cursor.com/open-in-cursor.svg\"></picture></a>&nbsp;<a href=\"https://cursor.com/agents?id=bc-5e41e093-31a5-4d05-b576-27f780c37ec0\"><picture><source media=\"(prefers-color-scheme: dark)\" srcset=\"https://cursor.com/open-in-web-dark.svg\"><source media=\"(prefers-color-scheme: light)\" srcset=\"https://cursor.com/open-in-web-light.svg\"><img alt=\"Open in Web\" src=\"https://cursor.com/open-in-web.svg\"></picture></a>\n\n<!-- CURSOR_SUMMARY -->\n---\n\n> [!NOTE]\n> Prevents sending empty Discord DMs by checking for non-whitespace text or attachments before sending.\n> \n> - **Discord Messaging (`src/messages.ts`)**:\n>   - **DM handling**: Add guard to skip sending when both `content.text` is empty/whitespace and no attachments; log a warning and return early.\n>   - Normalize text handling by using `textContent = content.text ?? ''` for DM `content` field.\n> \n> <sup>Written by [Cursor Bugbot](https://cursor.com/dashboard?tab=bugbot) for commit 54c15c3279b662c1903a913b8136a172b9de7edc. This will update automatically on new commits. Configure [here](https://cursor.com/dashboard?tab=bugbot).</sup>\n<!-- /CURSOR_SUMMARY -->",
      "repository": "elizaos-plugins/plugin-discord",
      "createdAt": "2025-11-21T06:46:51Z",
      "mergedAt": null,
      "additions": 8,
      "deletions": 1
    }
  ],
  "codeChanges": {
    "additions": 683,
    "deletions": 345,
    "files": 27,
    "commitCount": 22
  },
  "completedItems": [
    {
      "title": "Discord slash commands interface, modal interaction enhancements, attachment fixes",
      "prNumber": 23,
      "type": "bugfix",
      "body": "<!-- CURSOR_SUMMARY -->\n> [!NOTE]\n> Adds dynamic slash command registration and modal handling, enables sending attachments in DMs/channels, and improves message/interaction processing with new exports.\n> \n> - **Discord Service**:\n>   - Int",
      "files": [
        "src/index.ts",
        "src/messages.ts",
        "src/service.ts",
        "src/types.ts",
        "src/utils.ts",
        "src/voice.ts",
        "__tests__/discord-service.test.ts",
        "__tests__/environment.test.ts",
        "__tests__/messageManager.test.ts",
        "package.json",
        "src/actions/chatWithAttachments.ts",
        "src/actions/createPoll.ts",
        "src/actions/downloadMedia.ts",
        "src/actions/getUserInfo.ts",
        "src/actions/leaveChannel.ts",
        "src/actions/pinMessage.ts",
        "src/actions/reactToMessage.ts",
        "src/actions/searchMessages.ts",
        "src/actions/serverInfo.ts",
        "src/actions/summarizeConversation.ts",
        "src/actions/transcribeMedia.ts",
        "src/actions/unpinMessage.ts",
        "src/constants.ts",
        "tsconfig.build.json",
        "tsconfig.json",
        "tsconfig.test.json",
        "vitest.config.ts"
      ]
    }
  ],
  "topContributors": [
    {
      "username": "standujar",
      "avatarUrl": "https://avatars.githubusercontent.com/u/16385918?u=718bdcd1585be8447bdfffb8c11ce249baa7532d&v=4",
      "totalScore": 44.83658410541711,
      "prScore": 39.83658410541711,
      "issueScore": 0,
      "reviewScore": 5,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "odilitime",
      "avatarUrl": "https://avatars.githubusercontent.com/u/16395496?u=c9bac48e632aae594a0d85aaf9e9c9c69b674d8b&v=4",
      "totalScore": 20.391640607986435,
      "prScore": 20.191640607986436,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0.2,
      "summary": null
    },
    {
      "username": "0xbbjoker",
      "avatarUrl": "https://avatars.githubusercontent.com/u/54844437?u=90fe1762420de6ad493a1c1582f1f70c0d87d8e2&v=4",
      "totalScore": 5,
      "prScore": 0,
      "issueScore": 0,
      "reviewScore": 5,
      "commentScore": 0,
      "summary": null
    }
  ],
  "newPRs": 1,
  "mergedPRs": 1,
  "newIssues": 0,
  "closedIssues": 0,
  "activeContributors": 4
}